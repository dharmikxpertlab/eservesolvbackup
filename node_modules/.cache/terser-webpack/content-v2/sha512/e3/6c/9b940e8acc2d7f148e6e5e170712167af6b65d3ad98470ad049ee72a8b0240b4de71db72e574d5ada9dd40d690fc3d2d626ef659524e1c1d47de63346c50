{"code":"(window.webpackJsonp=window.webpackJsonp||[]).push([[50],{\"0ZR+\":function(e,t,i){\"use strict\";i.r(t),i.d(t,\"SearchResultsPageModule\",function(){return O});var n=i(\"tyNb\"),c=i(\"mrSG\"),r=i(\"v++7\"),o=i(\"W4DG\"),a=i(\"fXoL\"),s=i(\"1Esg\"),d=i(\"TEn/\"),l=i(\"qO5g\"),b=i(\"MRr7\"),u=i(\"ofXK\"),p=i(\"uCcx\"),f=i(\"sYmb\");function h(e,t){if(1&e&&(a.Tb(0,\"ion-card\",2),a.Ob(1,\"app-search-result-item\",9),a.Sb()),2&e){const e=t.$implicit;a.Cb(1),a.lc(\"serviceProvider\",e)}}const v=function(){return{text:\"Distance\",value:\"distance\"}},S=function(){return{text:\"Rate\",value:\"rate\"}},m=function(e,t){return[e,t]},g=[{path:\"\",component:(()=>{class e{constructor(e,t,i){this.activatedRoute=e,this.searchService=t,this.router=i}ngOnInit(){return Object(c.a)(this,void 0,void 0,function*(){this.orderId=this.activatedRoute.snapshot.params.order,this.candidates=yield this.searchService.getCandidates(+this.orderId)})}applyFilter(e){return Object(c.a)(this,void 0,void 0,function*(){this.candidates=yield this.searchService.getCandidates(+this.orderId,e)})}selectCandidates(){return Object(c.a)(this,void 0,void 0,function*(){(yield this.searchService.openConfirmationPopover())&&(yield this.submitSelectedCandidates(),yield this.router.navigate([\"/customers/dashboard\"],{replaceUrl:!0}))})}submitSelectedCandidates(){return Object(c.a)(this,void 0,void 0,function*(){yield this.searchService.selectCandidates(+this.orderId)})}}return e.\\u0275fac=function(t){return new(t||e)(a.Nb(n.a),a.Nb(s.a),a.Nb(n.g))},e.\\u0275cmp=a.Hb({type:e,selectors:[[\"app-search-results\"]],decls:25,vars:23,consts:[[3,\"title\"],[\"defaultHref\",\"/customers/orders/new\",3,\"click\"],[1,\"ion-padding\"],[1,\"ion-no-padding\"],[3,\"fields\",\"fieldSelectionEvent\"],[\"size\",\"medium\",\"mode\",\"md\",1,\"confirm-btn\",3,\"disabled\",\"click\"],[1,\"ion-margin-start\"],[\"lines\",\"none\",1,\"ion-no-margin\"],[\"class\",\"ion-padding\",4,\"ngFor\",\"ngForOf\"],[3,\"serviceProvider\"]],template:function(e,t){1&e&&(a.Tb(0,\"ion-header\"),a.Tb(1,\"app-primary-header\",0),a.fc(2,\"translate\"),a.Tb(3,\"ion-back-button\",1),a.bc(\"click\",function(){return t.searchService.selectedCandidates.next([])}),a.Sb(),a.Sb(),a.Sb(),a.Tb(4,\"ion-content\"),a.Tb(5,\"div\",2),a.Tb(6,\"h6\"),a.Bc(7),a.fc(8,\"translate\"),a.Sb(),a.Tb(9,\"p\"),a.Bc(10),a.fc(11,\"translate\"),a.Sb(),a.Tb(12,\"ion-grid\",3),a.Tb(13,\"ion-row\"),a.Tb(14,\"ion-col\",3),a.Tb(15,\"app-sorting\",4),a.bc(\"fieldSelectionEvent\",function(e){return t.applyFilter(e.value)}),a.Sb(),a.Sb(),a.Tb(16,\"ion-col\"),a.Tb(17,\"ion-button\",5),a.bc(\"click\",function(){return t.selectCandidates()}),a.Bc(18),a.fc(19,\"translate\"),a.Sb(),a.Sb(),a.Sb(),a.Sb(),a.Sb(),a.Tb(20,\"ion-note\",6),a.Bc(21),a.fc(22,\"translate\"),a.Sb(),a.Tb(23,\"ion-list\",7),a.zc(24,h,2,1,\"ion-card\",8),a.Sb(),a.Sb()),2&e&&(a.Cb(1),a.lc(\"title\",a.gc(2,8,\"Search Results\")),a.Cb(6),a.Cc(a.gc(8,10,\"Procurement\")),a.Cb(3),a.Cc(a.gc(11,12,\"Select up to 3 from the following service providers. All selected service providers have the opportunity to accept the order by reacting quickly.\")),a.Cb(5),a.lc(\"fields\",a.qc(20,m,a.oc(18,v),a.oc(19,S))),a.Cb(2),a.lc(\"disabled\",!t.searchService.isCandidateSelectionValid()),a.Cb(1),a.Cc(a.gc(19,14,\"Confirm Selection\")),a.Cb(3),a.Dc(\"*\",a.gc(22,16,\"NOTE_SEARCH_RESULTS\"),\"\"),a.Cb(3),a.lc(\"ngForOf\",t.candidates))},directives:[d.s,l.a,d.f,d.g,d.p,d.r,d.G,d.o,b.a,d.i,d.C,d.y,u.l,d.k,p.a],pipes:[f.c],styles:[\"h6[_ngcontent-%COMP%]{font-family:Roboto;font-style:normal;font-weight:500;font-size:16px;line-height:19px}.confirm-btn[_ngcontent-%COMP%]{margin-left:auto}\"]}),Object(c.b)([Object(o.a)(),Object(r.a)(\"\",!1)],e.prototype,\"ngOnInit\",null),Object(c.b)([Object(o.a)()],e.prototype,\"applyFilter\",null),Object(c.b)([Object(o.a)(),Object(r.a)(\"\",!1)],e.prototype,\"submitSelectedCandidates\",null),e})()}];let C=(()=>{class e{}return e.\\u0275fac=function(t){return new(t||e)},e.\\u0275mod=a.Lb({type:e}),e.\\u0275inj=a.Kb({imports:[[n.j.forChild(g)],n.j]}),e})();var y=i(\"PCNd\");let O=(()=>{class e{}return e.\\u0275fac=function(t){return new(t||e)},e.\\u0275mod=a.Lb({type:e}),e.\\u0275inj=a.Kb({imports:[[y.a,C]]}),e})()}}]);","name":"50.js","input":"(window[\"webpackJsonp\"] = window[\"webpackJsonp\"] || []).push([[50],{\n\n/***/ \"0ZR+\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n// ESM COMPAT FLAG\n__webpack_require__.r(__webpack_exports__);\n\n// EXPORTS\n__webpack_require__.d(__webpack_exports__, \"SearchResultsPageModule\", function() { return /* binding */ search_results_module_SearchResultsPageModule; });\n\n// EXTERNAL MODULE: ./node_modules/@angular/router/__ivy_ngcc__/fesm2015/router.js + 7 modules\nvar router = __webpack_require__(\"tyNb\");\n\n// EXTERNAL MODULE: ./node_modules/tslib/tslib.es6.js\nvar tslib_es6 = __webpack_require__(\"mrSG\");\n\n// EXTERNAL MODULE: ./src/app/shared/decorators/completion-notifier.ts + 1 modules\nvar completion_notifier = __webpack_require__(\"v++7\");\n\n// EXTERNAL MODULE: ./src/app/shared/decorators/loader.ts\nvar loader = __webpack_require__(\"W4DG\");\n\n// EXTERNAL MODULE: ./node_modules/@angular/core/__ivy_ngcc__/fesm2015/core.js\nvar core = __webpack_require__(\"fXoL\");\n\n// EXTERNAL MODULE: ./src/app/pages/customers/search/search-facade.service.ts + 1 modules\nvar search_facade_service = __webpack_require__(\"1Esg\");\n\n// EXTERNAL MODULE: ./node_modules/@ionic/angular/__ivy_ngcc__/fesm2015/ionic-angular.js + 6 modules\nvar ionic_angular = __webpack_require__(\"TEn/\");\n\n// EXTERNAL MODULE: ./src/app/shared/components/header/primary-header/primary-header.component.ts\nvar primary_header_component = __webpack_require__(\"qO5g\");\n\n// EXTERNAL MODULE: ./src/app/shared/components/sorting/sorting.component.ts\nvar sorting_component = __webpack_require__(\"MRr7\");\n\n// EXTERNAL MODULE: ./node_modules/@angular/common/__ivy_ngcc__/fesm2015/common.js\nvar common = __webpack_require__(\"ofXK\");\n\n// EXTERNAL MODULE: ./src/app/pages/customers/search/components/search-result-item/search-result-item.component.ts + 2 modules\nvar search_result_item_component = __webpack_require__(\"uCcx\");\n\n// EXTERNAL MODULE: ./node_modules/@ngx-translate/core/__ivy_ngcc__/fesm2015/ngx-translate-core.js\nvar ngx_translate_core = __webpack_require__(\"sYmb\");\n\n// CONCATENATED MODULE: ./src/app/pages/customers/search/search-results/search-results.page.ts\n\n\n\n\n\n\n\n\n\n\n\n\nfunction SearchResultsPage_ion_card_24_Template(rf, ctx) {\n    if (rf & 1) {\n        core[\"Tb\" /* ɵɵelementStart */](0, \"ion-card\", 2);\n        core[\"Ob\" /* ɵɵelement */](1, \"app-search-result-item\", 9);\n        core[\"Sb\" /* ɵɵelementEnd */]();\n    }\n    if (rf & 2) {\n        const item_r1 = ctx.$implicit;\n        core[\"Cb\" /* ɵɵadvance */](1);\n        core[\"lc\" /* ɵɵproperty */](\"serviceProvider\", item_r1);\n    }\n}\nconst _c0 = function () { return { text: \"Distance\", value: \"distance\" }; };\nconst _c1 = function () { return { text: \"Rate\", value: \"rate\" }; };\nconst _c2 = function (a0, a1) { return [a0, a1]; };\nlet search_results_page_SearchResultsPage = /*@__PURE__*/ (() => {\n    class SearchResultsPage {\n        constructor(activatedRoute, searchService, router) {\n            this.activatedRoute = activatedRoute;\n            this.searchService = searchService;\n            this.router = router;\n        }\n        ngOnInit() {\n            return Object(tslib_es6[\"a\" /* __awaiter */])(this, void 0, void 0, function* () {\n                this.orderId = this.activatedRoute.snapshot.params.order;\n                this.candidates = (yield this.searchService.getCandidates(+this.orderId));\n            });\n        }\n        applyFilter(filter) {\n            return Object(tslib_es6[\"a\" /* __awaiter */])(this, void 0, void 0, function* () {\n                this.candidates = (yield this.searchService.getCandidates(+this.orderId, filter));\n            });\n        }\n        selectCandidates() {\n            return Object(tslib_es6[\"a\" /* __awaiter */])(this, void 0, void 0, function* () {\n                const isConfirmed = yield this.searchService.openConfirmationPopover();\n                if (isConfirmed) {\n                    yield this.submitSelectedCandidates();\n                    yield this.router.navigate(['/customers/dashboard'], {\n                        replaceUrl: true\n                    });\n                }\n            });\n        }\n        submitSelectedCandidates() {\n            return Object(tslib_es6[\"a\" /* __awaiter */])(this, void 0, void 0, function* () {\n                yield this.searchService.selectCandidates(+this.orderId);\n            });\n        }\n    }\n    SearchResultsPage.ɵfac = function SearchResultsPage_Factory(t) { return new (t || SearchResultsPage)(core[\"Nb\" /* ɵɵdirectiveInject */](router[\"a\" /* ActivatedRoute */]), core[\"Nb\" /* ɵɵdirectiveInject */](search_facade_service[\"a\" /* SearchFacadeService */]), core[\"Nb\" /* ɵɵdirectiveInject */](router[\"g\" /* Router */])); };\n    SearchResultsPage.ɵcmp = core[\"Hb\" /* ɵɵdefineComponent */]({ type: SearchResultsPage, selectors: [[\"app-search-results\"]], decls: 25, vars: 23, consts: [[3, \"title\"], [\"defaultHref\", \"/customers/orders/new\", 3, \"click\"], [1, \"ion-padding\"], [1, \"ion-no-padding\"], [3, \"fields\", \"fieldSelectionEvent\"], [\"size\", \"medium\", \"mode\", \"md\", 1, \"confirm-btn\", 3, \"disabled\", \"click\"], [1, \"ion-margin-start\"], [\"lines\", \"none\", 1, \"ion-no-margin\"], [\"class\", \"ion-padding\", 4, \"ngFor\", \"ngForOf\"], [3, \"serviceProvider\"]], template: function SearchResultsPage_Template(rf, ctx) {\n            if (rf & 1) {\n                core[\"Tb\" /* ɵɵelementStart */](0, \"ion-header\");\n                core[\"Tb\" /* ɵɵelementStart */](1, \"app-primary-header\", 0);\n                core[\"fc\" /* ɵɵpipe */](2, \"translate\");\n                core[\"Tb\" /* ɵɵelementStart */](3, \"ion-back-button\", 1);\n                core[\"bc\" /* ɵɵlistener */](\"click\", function SearchResultsPage_Template_ion_back_button_click_3_listener() { return ctx.searchService.selectedCandidates.next([]); });\n                core[\"Sb\" /* ɵɵelementEnd */]();\n                core[\"Sb\" /* ɵɵelementEnd */]();\n                core[\"Sb\" /* ɵɵelementEnd */]();\n                core[\"Tb\" /* ɵɵelementStart */](4, \"ion-content\");\n                core[\"Tb\" /* ɵɵelementStart */](5, \"div\", 2);\n                core[\"Tb\" /* ɵɵelementStart */](6, \"h6\");\n                core[\"Bc\" /* ɵɵtext */](7);\n                core[\"fc\" /* ɵɵpipe */](8, \"translate\");\n                core[\"Sb\" /* ɵɵelementEnd */]();\n                core[\"Tb\" /* ɵɵelementStart */](9, \"p\");\n                core[\"Bc\" /* ɵɵtext */](10);\n                core[\"fc\" /* ɵɵpipe */](11, \"translate\");\n                core[\"Sb\" /* ɵɵelementEnd */]();\n                core[\"Tb\" /* ɵɵelementStart */](12, \"ion-grid\", 3);\n                core[\"Tb\" /* ɵɵelementStart */](13, \"ion-row\");\n                core[\"Tb\" /* ɵɵelementStart */](14, \"ion-col\", 3);\n                core[\"Tb\" /* ɵɵelementStart */](15, \"app-sorting\", 4);\n                core[\"bc\" /* ɵɵlistener */](\"fieldSelectionEvent\", function SearchResultsPage_Template_app_sorting_fieldSelectionEvent_15_listener($event) { return ctx.applyFilter($event[\"value\"]); });\n                core[\"Sb\" /* ɵɵelementEnd */]();\n                core[\"Sb\" /* ɵɵelementEnd */]();\n                core[\"Tb\" /* ɵɵelementStart */](16, \"ion-col\");\n                core[\"Tb\" /* ɵɵelementStart */](17, \"ion-button\", 5);\n                core[\"bc\" /* ɵɵlistener */](\"click\", function SearchResultsPage_Template_ion_button_click_17_listener() { return ctx.selectCandidates(); });\n                core[\"Bc\" /* ɵɵtext */](18);\n                core[\"fc\" /* ɵɵpipe */](19, \"translate\");\n                core[\"Sb\" /* ɵɵelementEnd */]();\n                core[\"Sb\" /* ɵɵelementEnd */]();\n                core[\"Sb\" /* ɵɵelementEnd */]();\n                core[\"Sb\" /* ɵɵelementEnd */]();\n                core[\"Sb\" /* ɵɵelementEnd */]();\n                core[\"Tb\" /* ɵɵelementStart */](20, \"ion-note\", 6);\n                core[\"Bc\" /* ɵɵtext */](21);\n                core[\"fc\" /* ɵɵpipe */](22, \"translate\");\n                core[\"Sb\" /* ɵɵelementEnd */]();\n                core[\"Tb\" /* ɵɵelementStart */](23, \"ion-list\", 7);\n                core[\"zc\" /* ɵɵtemplate */](24, SearchResultsPage_ion_card_24_Template, 2, 1, \"ion-card\", 8);\n                core[\"Sb\" /* ɵɵelementEnd */]();\n                core[\"Sb\" /* ɵɵelementEnd */]();\n            }\n            if (rf & 2) {\n                core[\"Cb\" /* ɵɵadvance */](1);\n                core[\"lc\" /* ɵɵproperty */](\"title\", core[\"gc\" /* ɵɵpipeBind1 */](2, 8, \"Search Results\"));\n                core[\"Cb\" /* ɵɵadvance */](6);\n                core[\"Cc\" /* ɵɵtextInterpolate */](core[\"gc\" /* ɵɵpipeBind1 */](8, 10, \"Procurement\"));\n                core[\"Cb\" /* ɵɵadvance */](3);\n                core[\"Cc\" /* ɵɵtextInterpolate */](core[\"gc\" /* ɵɵpipeBind1 */](11, 12, \"Select up to 3 from the following service providers. All selected service providers have the opportunity to accept the order by reacting quickly.\"));\n                core[\"Cb\" /* ɵɵadvance */](5);\n                core[\"lc\" /* ɵɵproperty */](\"fields\", core[\"qc\" /* ɵɵpureFunction2 */](20, _c2, core[\"oc\" /* ɵɵpureFunction0 */](18, _c0), core[\"oc\" /* ɵɵpureFunction0 */](19, _c1)));\n                core[\"Cb\" /* ɵɵadvance */](2);\n                core[\"lc\" /* ɵɵproperty */](\"disabled\", !ctx.searchService.isCandidateSelectionValid());\n                core[\"Cb\" /* ɵɵadvance */](1);\n                core[\"Cc\" /* ɵɵtextInterpolate */](core[\"gc\" /* ɵɵpipeBind1 */](19, 14, \"Confirm Selection\"));\n                core[\"Cb\" /* ɵɵadvance */](3);\n                core[\"Dc\" /* ɵɵtextInterpolate1 */](\"*\", core[\"gc\" /* ɵɵpipeBind1 */](22, 16, \"NOTE_SEARCH_RESULTS\"), \"\");\n                core[\"Cb\" /* ɵɵadvance */](3);\n                core[\"lc\" /* ɵɵproperty */](\"ngForOf\", ctx.candidates);\n            }\n        }, directives: [ionic_angular[\"s\" /* IonHeader */], primary_header_component[\"a\" /* PrimaryHeaderComponent */], ionic_angular[\"f\" /* IonBackButton */], ionic_angular[\"g\" /* IonBackButtonDelegate */], ionic_angular[\"p\" /* IonContent */], ionic_angular[\"r\" /* IonGrid */], ionic_angular[\"G\" /* IonRow */], ionic_angular[\"o\" /* IonCol */], sorting_component[\"a\" /* SortingComponent */], ionic_angular[\"i\" /* IonButton */], ionic_angular[\"C\" /* IonNote */], ionic_angular[\"y\" /* IonList */], common[\"l\" /* NgForOf */], ionic_angular[\"k\" /* IonCard */], search_result_item_component[\"a\" /* SearchResultItemComponent */]], pipes: [ngx_translate_core[\"c\" /* TranslatePipe */]], styles: [\"h6[_ngcontent-%COMP%]{font-family:Roboto;font-style:normal;font-weight:500;font-size:16px;line-height:19px}.confirm-btn[_ngcontent-%COMP%]{margin-left:auto}\"] });\n    Object(tslib_es6[\"b\" /* __decorate */])([\n        Object(loader[\"a\" /* loader */])(),\n        Object(completion_notifier[\"a\" /* completionNotifier */])('', false)\n    ], SearchResultsPage.prototype, \"ngOnInit\", null);\n    Object(tslib_es6[\"b\" /* __decorate */])([\n        Object(loader[\"a\" /* loader */])()\n    ], SearchResultsPage.prototype, \"applyFilter\", null);\n    Object(tslib_es6[\"b\" /* __decorate */])([\n        Object(loader[\"a\" /* loader */])(),\n        Object(completion_notifier[\"a\" /* completionNotifier */])('', false)\n    ], SearchResultsPage.prototype, \"submitSelectedCandidates\", null);\n    return SearchResultsPage;\n})();\n\n// CONCATENATED MODULE: ./src/app/pages/customers/search/search-results/search-results-routing.module.ts\n\n\n\n\nconst routes = [\n    {\n        path: '',\n        component: search_results_page_SearchResultsPage\n    }\n];\nlet search_results_routing_module_SearchResultsPageRoutingModule = /*@__PURE__*/ (() => {\n    class SearchResultsPageRoutingModule {\n    }\n    SearchResultsPageRoutingModule.ɵfac = function SearchResultsPageRoutingModule_Factory(t) { return new (t || SearchResultsPageRoutingModule)(); };\n    SearchResultsPageRoutingModule.ɵmod = core[\"Lb\" /* ɵɵdefineNgModule */]({ type: SearchResultsPageRoutingModule });\n    SearchResultsPageRoutingModule.ɵinj = core[\"Kb\" /* ɵɵdefineInjector */]({ imports: [[router[\"j\" /* RouterModule */].forChild(routes)], router[\"j\" /* RouterModule */]] });\n    return SearchResultsPageRoutingModule;\n})();\n\n// EXTERNAL MODULE: ./src/app/shared/shared.module.ts + 5 modules\nvar shared_module = __webpack_require__(\"PCNd\");\n\n// CONCATENATED MODULE: ./src/app/pages/customers/search/search-results/search-results.module.ts\n\n\n\nlet search_results_module_SearchResultsPageModule = /*@__PURE__*/ (() => {\n    class SearchResultsPageModule {\n    }\n    SearchResultsPageModule.ɵfac = function SearchResultsPageModule_Factory(t) { return new (t || SearchResultsPageModule)(); };\n    SearchResultsPageModule.ɵmod = core[\"Lb\" /* ɵɵdefineNgModule */]({ type: SearchResultsPageModule });\n    SearchResultsPageModule.ɵinj = core[\"Kb\" /* ɵɵdefineInjector */]({ imports: [[\n                shared_module[\"a\" /* SharedModule */],\n                search_results_routing_module_SearchResultsPageRoutingModule\n            ]] });\n    return SearchResultsPageModule;\n})();\n\n\n/***/ })\n\n}]);","inputSourceMap":null}