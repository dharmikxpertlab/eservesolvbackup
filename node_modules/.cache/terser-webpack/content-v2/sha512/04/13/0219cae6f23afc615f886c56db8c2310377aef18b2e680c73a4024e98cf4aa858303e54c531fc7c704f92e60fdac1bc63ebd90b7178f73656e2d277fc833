{"code":"(window.webpackJsonp=window.webpackJsonp||[]).push([[9],{T0Tu:function(t,e,o){\"use strict\";o.d(e,\"a\",function(){return r});var n=o(\"mrSG\"),i=o(\"fXoL\"),a=o(\"7jUV\"),c=o(\"IYfF\");let r=(()=>{class t{constructor(t,e){this.locationService=t,this.authService=e}getLocations(){return Object(n.a)(this,void 0,void 0,function*(){return yield(yield this.locationService.locationsList()).toPromise()})}getLocation(t){return Object(n.a)(this,void 0,void 0,function*(){return yield(yield this.locationService.locationsRetrieve({id:t})).toPromise()})}addLocation(t){return Object(n.a)(this,void 0,void 0,function*(){const e=yield(yield this.authService.getUserInfo()).company;return t.company=e,yield(yield this.locationService.locationsCreate$Json({body:t})).toPromise()})}updateLocation(t){return Object(n.a)(this,void 0,void 0,function*(){return yield(yield this.locationService.locationsPartialUpdate$Json({id:t.id,body:t})).toPromise()})}deleteLocation(t){return Object(n.a)(this,void 0,void 0,function*(){return yield(yield this.locationService.locationsDestroy({id:t.id})).toPromise()})}}return t.\\u0275fac=function(e){return new(e||t)(i.Xb(a.e),i.Xb(c.a))},t.\\u0275prov=i.Jb({token:t,factory:t.\\u0275fac,providedIn:\"root\"}),t})()},W4DG:function(t,e,o){\"use strict\";o.d(e,\"a\",function(){return a});var n=o(\"mrSG\"),i=o(\"TEn/\");function a(){return(t,e,o)=>{const a=o.value;return o.value=function(...t){return Object(n.a)(this,void 0,void 0,function*(){let e;const o=new i.R,n=yield o.create();yield n.present();try{e=yield a.apply(this,t)}catch(c){throw n.dismiss(),c}return n.dismiss(),e})},o}}},fMB5:function(t,e,o){\"use strict\";o.r(e),o.d(e,\"LocationEditPageModule\",function(){return N});var n=o(\"tyNb\"),i=o(\"mrSG\"),a=o(\"3Pt+\"),c=o(\"roZI\"),r=o(\"v++7\"),s=o(\"rX50\"),l=o(\"W4DG\"),d=o(\"fXoL\"),u=o(\"T0Tu\"),b=o(\"IYfF\"),m=o(\"qSrz\"),f=o(\"TEn/\"),p=o(\"ofXK\"),h=o(\"kmnG\"),v=o(\"qFsG\"),y=o(\"qO5g\"),g=o(\"bTqV\"),S=o(\"4Y7C\"),C=o(\"sYmb\");function O(t,e){1&t&&(d.Tb(0,\"app-primary-header\",13),d.fc(1,\"translate\"),d.Ob(2,\"ion-back-button\",14),d.Sb()),2&t&&(d.lc(\"title\",d.gc(1,2,\"Location Management\")),d.Cb(2),d.lc(\"defaultHref\",\"/locations\"))}function L(t,e){if(1&t&&(d.Tb(0,\"app-primary-header\",13),d.Ob(1,\"ion-back-button\",14),d.Sb()),2&t){const t=d.ec();d.lc(\"title\",t.location.name),d.Cb(1),d.lc(\"defaultHref\",\"/locations\")}}const j=function(t){return[\"/locations\",t,\"machines\"]};function T(t,e){if(1&t&&(d.Tb(0,\"button\",17),d.Bc(1),d.fc(2,\"translate\"),d.Sb()),2&t){const t=d.ec(2);d.lc(\"routerLink\",d.pc(4,j,t.location.id)),d.Cb(1),d.Cc(d.gc(2,2,\"Machine Management\"))}}const k=function(t){return[t]};function w(t,e){if(1&t&&(d.Tb(0,\"div\",15),d.zc(1,T,3,6,\"button\",16),d.Sb()),2&t){const t=d.ec();d.Cb(1),d.lc(\"ngxPermissionsOnly\",d.pc(1,k,t.Roles.MacManager))}}function I(t,e){if(1&t){const t=d.Ub();d.Tb(0,\"app-form-footer\",18),d.bc(\"saveButtonClick\",function(){return d.tc(t),d.ec().addOrUpdate()}),d.Sb()}}function P(t,e){if(1&t){const t=d.Ub();d.Tb(0,\"ion-button\",19),d.bc(\"click\",function(){d.tc(t);const e=d.ec();return e.deleteLocation(e.location)}),d.Bc(1),d.fc(2,\"translate\"),d.Sb()}2&t&&(d.Cb(1),d.Cc(d.gc(2,1,\"Delete\")))}const F=[{path:\"\",component:(()=>{class t{constructor(t,e,o,n,i){this.locationFacadeService=t,this.router=e,this.activatedRoute=o,this.authService=n,this.perm=i,this.Roles=c.e,this.locationForm=new a.h({id:new a.e(null),address:new a.e(\"\"),city:new a.e(\"\"),zip_code:new a.e(\"\"),company:new a.e(null),name:new a.e(\"\"),remark:new a.e(\"\")})}ngOnInit(){return Object(i.a)(this,void 0,void 0,function*(){const t=this.activatedRoute.snapshot.params;t.location&&(this.location=yield this.locationFacadeService.getLocation(t.location),this.locationForm.patchValue(Object.assign({},this.location)))})}addOrUpdate(){return Object(i.a)(this,void 0,void 0,function*(){this.location&&this.location.id?yield this.updateLocation():yield this.addLocation()})}addLocation(){return Object(i.a)(this,void 0,void 0,function*(){this.location=yield this.locationFacadeService.addLocation(this.locationForm.value)})}updateLocation(){return Object(i.a)(this,void 0,void 0,function*(){this.location=yield this.locationFacadeService.updateLocation(this.locationForm.value)})}deleteLocation(t){return Object(i.a)(this,void 0,void 0,function*(){yield this.locationFacadeService.deleteLocation(t),yield this.router.navigate([\"/locations\"])})}}return t.\\u0275fac=function(e){return new(e||t)(d.Nb(u.a),d.Nb(n.g),d.Nb(n.a),d.Nb(b.a),d.Nb(m.c))},t.\\u0275cmp=d.Hb({type:t,selectors:[[\"app-location-edit\"]],decls:37,vars:26,consts:[[3,\"title\",4,\"ngIf\"],[\"class\",\"ion-margin-top ion-padding-start ion-padding-end\",4,\"ngIf\"],[1,\"ion-no-margin\",\"strong\",\"ion-margin-start\"],[1,\"ion-padding\",3,\"formGroup\",\"ngSubmit\"],[\"appearance\",\"outline\",\"color\",\"primary\"],[\"matInput\",\"\",\"formControlName\",\"name\"],[\"matInput\",\"\",\"formControlName\",\"address\"],[\"appearance\",\"outline\"],[\"type\",\"text\",\"matInput\",\"\",\"formControlName\",\"zip_code\"],[\"type\",\"text\",\"matInput\",\"\",\"formControlName\",\"city\"],[\"type\",\"text\",\"matInput\",\"\",\"formControlName\",\"remark\"],[3,\"saveButtonClick\",4,\"ngxPermissionsOnly\"],[\"expand\",\"block\",\"mode\",\"md\",\"class\",\"ion-margin-top ion-margin-bottom\",3,\"click\",4,\"ngIf\"],[3,\"title\"],[3,\"defaultHref\"],[1,\"ion-margin-top\",\"ion-padding-start\",\"ion-padding-end\"],[\"mat-stroked-button\",\"\",\"color\",\"primary\",\"routerLinkActive\",\"router-link-active\",3,\"routerLink\",4,\"ngxPermissionsOnly\"],[\"mat-stroked-button\",\"\",\"color\",\"primary\",\"routerLinkActive\",\"router-link-active\",3,\"routerLink\"],[3,\"saveButtonClick\"],[\"expand\",\"block\",\"mode\",\"md\",1,\"ion-margin-top\",\"ion-margin-bottom\",3,\"click\"]],template:function(t,e){1&t&&(d.Tb(0,\"ion-header\"),d.zc(1,O,3,4,\"app-primary-header\",0),d.zc(2,L,2,2,\"app-primary-header\",0),d.Sb(),d.Tb(3,\"ion-content\"),d.zc(4,w,2,3,\"div\",1),d.Ob(5,\"br\"),d.Tb(6,\"h5\",2),d.Bc(7),d.fc(8,\"translate\"),d.Sb(),d.Tb(9,\"form\",3),d.bc(\"ngSubmit\",function(){return e.addOrUpdate()}),d.Tb(10,\"mat-form-field\",4),d.Tb(11,\"mat-label\"),d.Bc(12),d.fc(13,\"translate\"),d.Sb(),d.Ob(14,\"input\",5),d.Sb(),d.Tb(15,\"mat-form-field\",4),d.Tb(16,\"mat-label\"),d.Bc(17),d.fc(18,\"translate\"),d.Sb(),d.Ob(19,\"input\",6),d.Sb(),d.Tb(20,\"mat-form-field\",7),d.Tb(21,\"mat-label\"),d.Bc(22),d.fc(23,\"translate\"),d.Sb(),d.Ob(24,\"input\",8),d.Sb(),d.Tb(25,\"mat-form-field\",7),d.Tb(26,\"mat-label\"),d.Bc(27),d.fc(28,\"translate\"),d.Sb(),d.Ob(29,\"input\",9),d.Sb(),d.Tb(30,\"mat-form-field\",7),d.Tb(31,\"mat-label\"),d.Bc(32),d.fc(33,\"translate\"),d.Sb(),d.Ob(34,\"input\",10),d.Sb(),d.zc(35,I,1,0,\"app-form-footer\",11),d.zc(36,P,3,3,\"ion-button\",12),d.Sb(),d.Sb()),2&t&&(d.Cb(1),d.lc(\"ngIf\",!e.location),d.Cb(1),d.lc(\"ngIf\",e.location),d.Cb(2),d.lc(\"ngIf\",e.location&&e.location.id),d.Cb(3),d.Cc(d.gc(8,12,\"Address\")),d.Cb(2),d.lc(\"formGroup\",e.locationForm),d.Cb(3),d.Cc(d.gc(13,14,\"Designation\")),d.Cb(5),d.Cc(d.gc(18,16,\"Street / Housenumber\")),d.Cb(5),d.Cc(d.gc(23,18,\"Pincode\")),d.Cb(5),d.Cc(d.gc(28,20,\"Place\")),d.Cb(5),d.Cc(d.gc(33,22,\"Remarks\")),d.Cb(3),d.lc(\"ngxPermissionsOnly\",d.pc(24,k,e.Roles.LocManager)),d.Cb(1),d.lc(\"ngIf\",e.location))},directives:[f.s,p.m,f.p,a.y,a.q,a.i,h.b,h.e,v.b,a.c,a.p,a.g,m.a,y.a,f.f,f.g,g.a,n.i,f.X,n.h,S.a,f.i],pipes:[C.c],styles:[\"button[_ngcontent-%COMP%]{width:100%}\"]}),Object(i.b)([Object(r.a)(),Object(l.a)()],t.prototype,\"addOrUpdate\",null),Object(i.b)([Object(s.a)(\"Deleting Location\"),Object(l.a)(),Object(r.a)(\"\",!0,\"Cannot delete this location because it is being used by an Order\")],t.prototype,\"deleteLocation\",null),t})()}];let B=(()=>{class t{}return t.\\u0275fac=function(e){return new(e||t)},t.\\u0275mod=d.Lb({type:t}),t.\\u0275inj=d.Kb({imports:[[n.j.forChild(F)],n.j]}),t})();var M=o(\"PCNd\");let N=(()=>{class t{}return t.\\u0275fac=function(e){return new(e||t)},t.\\u0275mod=d.Lb({type:t}),t.\\u0275inj=d.Kb({imports:[[M.a,B,m.b.forChild()]]}),t})()},\"v++7\":function(t,e,o){\"use strict\";o.d(e,\"a\",function(){return l});var n=o(\"mrSG\"),i=o(\"TEn/\"),a=o(\"1Xxd\"),c=o(\"LvDl\"),r=o(\"fXoL\");let s=(()=>{class t{static toDisplayMessage(t){t.error&&(t=t.error);const e=a.a.getService();return Object.entries(t).map(([t,o])=>{const n=c.startCase(c.camelCase(t));return c.isPlainObject(o)?this.toDisplayMessage(o):c.isArray(o)?`${e.instant(n)}: ${o.join(\", \")}`:`${e.instant(n)}: ${o}`}).join(\"\\n\")}}return t.\\u0275fac=function(e){return new(e||t)},t.\\u0275prov=r.Jb({token:t,factory:t.\\u0275fac,providedIn:\"root\"}),t})();function l(t=\"Success!\",e=!0,o=null){return(c,r,l)=>{const d=l.value;return l.value=function(...c){return Object(n.a)(this,void 0,void 0,function*(){const n=new i.Z,r=a.a.getService();let l,u;o&&(o=r.instant(o));try{u=yield d.apply(this,c),e&&(l=yield n.create({message:r.instant(t),duration:2e3,position:\"bottom\",color:\"success\"}),l.present())}catch(b){l=yield n.create({header:r.instant(\"Error!\"),message:o||s.toDisplayMessage(b),duration:2e4,position:\"middle\",color:\"primary\",cssClass:\"error-toast\",buttons:[{text:r.instant(\"OK\"),role:\"cancel\"}]}),l.present();const t=document.querySelector(\".error-toast\");t.shadowRoot.querySelector(\".toast-header\").setAttribute(\"style\",\"font-weight: bold; font-size: 1.4em\"),t.shadowRoot.querySelector(\".toast-button-inner\").setAttribute(\"style\",\"font-weight: bold\")}return u})},l}}}}]);","name":"9.js","input":"(window[\"webpackJsonp\"] = window[\"webpackJsonp\"] || []).push([[9],{\n\n/***/ \"T0Tu\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"a\", function() { return LocationsFacadeService; });\n/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(\"mrSG\");\n/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(\"fXoL\");\n/* harmony import */ var src_api_services__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(\"7jUV\");\n/* harmony import */ var src_app_shared_services_auth_service__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(\"IYfF\");\n\n\n\n\nlet LocationsFacadeService = /*@__PURE__*/ (() => {\n    class LocationsFacadeService {\n        constructor(locationService, authService) {\n            this.locationService = locationService;\n            this.authService = authService;\n        }\n        getLocations() {\n            return Object(tslib__WEBPACK_IMPORTED_MODULE_0__[/* __awaiter */ \"a\"])(this, void 0, void 0, function* () {\n                return yield (yield this.locationService.locationsList()).toPromise();\n            });\n        }\n        getLocation(id) {\n            return Object(tslib__WEBPACK_IMPORTED_MODULE_0__[/* __awaiter */ \"a\"])(this, void 0, void 0, function* () {\n                return yield (yield this.locationService.locationsRetrieve({\n                    id\n                })).toPromise();\n            });\n        }\n        addLocation(location) {\n            return Object(tslib__WEBPACK_IMPORTED_MODULE_0__[/* __awaiter */ \"a\"])(this, void 0, void 0, function* () {\n                const company = yield (yield this.authService.getUserInfo()).company;\n                location.company = company;\n                return yield (yield this.locationService.locationsCreate$Json({\n                    body: location\n                })).toPromise();\n            });\n        }\n        updateLocation(location) {\n            return Object(tslib__WEBPACK_IMPORTED_MODULE_0__[/* __awaiter */ \"a\"])(this, void 0, void 0, function* () {\n                return yield (yield this.locationService.locationsPartialUpdate$Json({\n                    id: location.id,\n                    body: location\n                })).toPromise();\n            });\n        }\n        deleteLocation(location) {\n            return Object(tslib__WEBPACK_IMPORTED_MODULE_0__[/* __awaiter */ \"a\"])(this, void 0, void 0, function* () {\n                return yield (yield this.locationService.locationsDestroy({\n                    id: location.id\n                })).toPromise();\n            });\n        }\n    }\n    LocationsFacadeService.ɵfac = function LocationsFacadeService_Factory(t) { return new (t || LocationsFacadeService)(_angular_core__WEBPACK_IMPORTED_MODULE_1__[/* ɵɵinject */ \"Xb\"](src_api_services__WEBPACK_IMPORTED_MODULE_2__[/* LocationsService */ \"e\"]), _angular_core__WEBPACK_IMPORTED_MODULE_1__[/* ɵɵinject */ \"Xb\"](src_app_shared_services_auth_service__WEBPACK_IMPORTED_MODULE_3__[/* AuthService */ \"a\"])); };\n    LocationsFacadeService.ɵprov = _angular_core__WEBPACK_IMPORTED_MODULE_1__[/* ɵɵdefineInjectable */ \"Jb\"]({ token: LocationsFacadeService, factory: LocationsFacadeService.ɵfac, providedIn: 'root' });\n    return LocationsFacadeService;\n})();\n\n\n/***/ }),\n\n/***/ \"W4DG\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"a\", function() { return loader; });\n/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(\"mrSG\");\n/* harmony import */ var _ionic_angular__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(\"TEn/\");\n\n\nfunction loader() {\n    return (target, propertyKey, descriptor) => {\n        const originalMethod = descriptor.value;\n        descriptor.value = function (...args) {\n            return Object(tslib__WEBPACK_IMPORTED_MODULE_0__[/* __awaiter */ \"a\"])(this, void 0, void 0, function* () {\n                let result;\n                const loadingController = new _ionic_angular__WEBPACK_IMPORTED_MODULE_1__[/* LoadingController */ \"R\"]();\n                const loading = yield loadingController.create();\n                yield loading.present();\n                try {\n                    result = yield originalMethod.apply(this, args);\n                }\n                catch (error) {\n                    loading.dismiss();\n                    throw error;\n                }\n                loading.dismiss();\n                return result;\n            });\n        };\n        return descriptor;\n    };\n}\n\n\n/***/ }),\n\n/***/ \"fMB5\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n// ESM COMPAT FLAG\n__webpack_require__.r(__webpack_exports__);\n\n// EXPORTS\n__webpack_require__.d(__webpack_exports__, \"LocationEditPageModule\", function() { return /* binding */ location_edit_module_LocationEditPageModule; });\n\n// EXTERNAL MODULE: ./node_modules/@angular/router/__ivy_ngcc__/fesm2015/router.js + 7 modules\nvar fesm2015_router = __webpack_require__(\"tyNb\");\n\n// EXTERNAL MODULE: ./node_modules/tslib/tslib.es6.js\nvar tslib_es6 = __webpack_require__(\"mrSG\");\n\n// EXTERNAL MODULE: ./node_modules/@angular/forms/__ivy_ngcc__/fesm2015/forms.js\nvar fesm2015_forms = __webpack_require__(\"3Pt+\");\n\n// EXTERNAL MODULE: ./src/api/models.ts + 8 modules\nvar models = __webpack_require__(\"roZI\");\n\n// EXTERNAL MODULE: ./src/app/shared/decorators/completion-notifier.ts + 1 modules\nvar completion_notifier = __webpack_require__(\"v++7\");\n\n// EXTERNAL MODULE: ./src/app/shared/decorators/confirm-operation.ts\nvar confirm_operation = __webpack_require__(\"rX50\");\n\n// EXTERNAL MODULE: ./src/app/shared/decorators/loader.ts\nvar loader = __webpack_require__(\"W4DG\");\n\n// EXTERNAL MODULE: ./node_modules/@angular/core/__ivy_ngcc__/fesm2015/core.js\nvar core = __webpack_require__(\"fXoL\");\n\n// EXTERNAL MODULE: ./src/app/pages/locations/locations-facade.service.ts\nvar locations_facade_service = __webpack_require__(\"T0Tu\");\n\n// EXTERNAL MODULE: ./src/app/shared/services/auth.service.ts\nvar auth_service = __webpack_require__(\"IYfF\");\n\n// EXTERNAL MODULE: ./node_modules/ngx-permissions/__ivy_ngcc__/fesm2015/ngx-permissions.js + 2 modules\nvar ngx_permissions = __webpack_require__(\"qSrz\");\n\n// EXTERNAL MODULE: ./node_modules/@ionic/angular/__ivy_ngcc__/fesm2015/ionic-angular.js + 6 modules\nvar ionic_angular = __webpack_require__(\"TEn/\");\n\n// EXTERNAL MODULE: ./node_modules/@angular/common/__ivy_ngcc__/fesm2015/common.js\nvar common = __webpack_require__(\"ofXK\");\n\n// EXTERNAL MODULE: ./node_modules/@angular/material/__ivy_ngcc__/fesm2015/form-field.js\nvar form_field = __webpack_require__(\"kmnG\");\n\n// EXTERNAL MODULE: ./node_modules/@angular/material/__ivy_ngcc__/fesm2015/input.js + 1 modules\nvar input = __webpack_require__(\"qFsG\");\n\n// EXTERNAL MODULE: ./src/app/shared/components/header/primary-header/primary-header.component.ts\nvar primary_header_component = __webpack_require__(\"qO5g\");\n\n// EXTERNAL MODULE: ./node_modules/@angular/material/__ivy_ngcc__/fesm2015/button.js\nvar fesm2015_button = __webpack_require__(\"bTqV\");\n\n// EXTERNAL MODULE: ./src/app/shared/components/footer/form-footer/form-footer.component.ts\nvar form_footer_component = __webpack_require__(\"4Y7C\");\n\n// EXTERNAL MODULE: ./node_modules/@ngx-translate/core/__ivy_ngcc__/fesm2015/ngx-translate-core.js\nvar ngx_translate_core = __webpack_require__(\"sYmb\");\n\n// CONCATENATED MODULE: ./src/app/pages/locations/location-edit/location-edit.page.ts\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nfunction LocationEditPage_app_primary_header_1_Template(rf, ctx) {\n    if (rf & 1) {\n        core[\"Tb\" /* ɵɵelementStart */](0, \"app-primary-header\", 13);\n        core[\"fc\" /* ɵɵpipe */](1, \"translate\");\n        core[\"Ob\" /* ɵɵelement */](2, \"ion-back-button\", 14);\n        core[\"Sb\" /* ɵɵelementEnd */]();\n    }\n    if (rf & 2) {\n        core[\"lc\" /* ɵɵproperty */](\"title\", core[\"gc\" /* ɵɵpipeBind1 */](1, 2, \"Location Management\"));\n        core[\"Cb\" /* ɵɵadvance */](2);\n        core[\"lc\" /* ɵɵproperty */](\"defaultHref\", \"/locations\");\n    }\n}\nfunction LocationEditPage_app_primary_header_2_Template(rf, ctx) {\n    if (rf & 1) {\n        core[\"Tb\" /* ɵɵelementStart */](0, \"app-primary-header\", 13);\n        core[\"Ob\" /* ɵɵelement */](1, \"ion-back-button\", 14);\n        core[\"Sb\" /* ɵɵelementEnd */]();\n    }\n    if (rf & 2) {\n        const ctx_r1 = core[\"ec\" /* ɵɵnextContext */]();\n        core[\"lc\" /* ɵɵproperty */](\"title\", ctx_r1.location.name);\n        core[\"Cb\" /* ɵɵadvance */](1);\n        core[\"lc\" /* ɵɵproperty */](\"defaultHref\", \"/locations\");\n    }\n}\nconst _c0 = function (a1) { return [\"/locations\", a1, \"machines\"]; };\nfunction LocationEditPage_div_4_button_1_Template(rf, ctx) {\n    if (rf & 1) {\n        core[\"Tb\" /* ɵɵelementStart */](0, \"button\", 17);\n        core[\"Bc\" /* ɵɵtext */](1);\n        core[\"fc\" /* ɵɵpipe */](2, \"translate\");\n        core[\"Sb\" /* ɵɵelementEnd */]();\n    }\n    if (rf & 2) {\n        const ctx_r5 = core[\"ec\" /* ɵɵnextContext */](2);\n        core[\"lc\" /* ɵɵproperty */](\"routerLink\", core[\"pc\" /* ɵɵpureFunction1 */](4, _c0, ctx_r5.location.id));\n        core[\"Cb\" /* ɵɵadvance */](1);\n        core[\"Cc\" /* ɵɵtextInterpolate */](core[\"gc\" /* ɵɵpipeBind1 */](2, 2, \"Machine Management\"));\n    }\n}\nconst _c1 = function (a0) { return [a0]; };\nfunction LocationEditPage_div_4_Template(rf, ctx) {\n    if (rf & 1) {\n        core[\"Tb\" /* ɵɵelementStart */](0, \"div\", 15);\n        core[\"zc\" /* ɵɵtemplate */](1, LocationEditPage_div_4_button_1_Template, 3, 6, \"button\", 16);\n        core[\"Sb\" /* ɵɵelementEnd */]();\n    }\n    if (rf & 2) {\n        const ctx_r2 = core[\"ec\" /* ɵɵnextContext */]();\n        core[\"Cb\" /* ɵɵadvance */](1);\n        core[\"lc\" /* ɵɵproperty */](\"ngxPermissionsOnly\", core[\"pc\" /* ɵɵpureFunction1 */](1, _c1, ctx_r2.Roles.MacManager));\n    }\n}\nfunction LocationEditPage_app_form_footer_35_Template(rf, ctx) {\n    if (rf & 1) {\n        const _r7 = core[\"Ub\" /* ɵɵgetCurrentView */]();\n        core[\"Tb\" /* ɵɵelementStart */](0, \"app-form-footer\", 18);\n        core[\"bc\" /* ɵɵlistener */](\"saveButtonClick\", function LocationEditPage_app_form_footer_35_Template_app_form_footer_saveButtonClick_0_listener() { core[\"tc\" /* ɵɵrestoreView */](_r7); const ctx_r6 = core[\"ec\" /* ɵɵnextContext */](); return ctx_r6.addOrUpdate(); });\n        core[\"Sb\" /* ɵɵelementEnd */]();\n    }\n}\nfunction LocationEditPage_ion_button_36_Template(rf, ctx) {\n    if (rf & 1) {\n        const _r9 = core[\"Ub\" /* ɵɵgetCurrentView */]();\n        core[\"Tb\" /* ɵɵelementStart */](0, \"ion-button\", 19);\n        core[\"bc\" /* ɵɵlistener */](\"click\", function LocationEditPage_ion_button_36_Template_ion_button_click_0_listener() { core[\"tc\" /* ɵɵrestoreView */](_r9); const ctx_r8 = core[\"ec\" /* ɵɵnextContext */](); return ctx_r8.deleteLocation(ctx_r8.location); });\n        core[\"Bc\" /* ɵɵtext */](1);\n        core[\"fc\" /* ɵɵpipe */](2, \"translate\");\n        core[\"Sb\" /* ɵɵelementEnd */]();\n    }\n    if (rf & 2) {\n        core[\"Cb\" /* ɵɵadvance */](1);\n        core[\"Cc\" /* ɵɵtextInterpolate */](core[\"gc\" /* ɵɵpipeBind1 */](2, 1, \"Delete\"));\n    }\n}\nlet location_edit_page_LocationEditPage = /*@__PURE__*/ (() => {\n    class LocationEditPage {\n        constructor(locationFacadeService, router, activatedRoute, authService, perm) {\n            this.locationFacadeService = locationFacadeService;\n            this.router = router;\n            this.activatedRoute = activatedRoute;\n            this.authService = authService;\n            this.perm = perm;\n            this.Roles = models[\"e\" /* RolesEnum */];\n            this.locationForm = new fesm2015_forms[\"h\" /* FormGroup */]({\n                id: new fesm2015_forms[\"e\" /* FormControl */](null),\n                address: new fesm2015_forms[\"e\" /* FormControl */](''),\n                city: new fesm2015_forms[\"e\" /* FormControl */](''),\n                zip_code: new fesm2015_forms[\"e\" /* FormControl */](''),\n                company: new fesm2015_forms[\"e\" /* FormControl */](null),\n                name: new fesm2015_forms[\"e\" /* FormControl */](''),\n                remark: new fesm2015_forms[\"e\" /* FormControl */](''),\n            });\n        }\n        ngOnInit() {\n            return Object(tslib_es6[\"a\" /* __awaiter */])(this, void 0, void 0, function* () {\n                const snapshotParams = this.activatedRoute.snapshot.params;\n                if (snapshotParams.location) {\n                    this.location = yield this.locationFacadeService.getLocation(snapshotParams.location);\n                    this.locationForm.patchValue(Object.assign({}, this.location));\n                }\n            });\n        }\n        addOrUpdate() {\n            return Object(tslib_es6[\"a\" /* __awaiter */])(this, void 0, void 0, function* () {\n                if (this.location && this.location.id) {\n                    yield this.updateLocation();\n                }\n                else {\n                    yield this.addLocation();\n                }\n            });\n        }\n        addLocation() {\n            return Object(tslib_es6[\"a\" /* __awaiter */])(this, void 0, void 0, function* () {\n                this.location = yield this.locationFacadeService.addLocation(this.locationForm.value);\n            });\n        }\n        updateLocation() {\n            return Object(tslib_es6[\"a\" /* __awaiter */])(this, void 0, void 0, function* () {\n                this.location = yield this.locationFacadeService.updateLocation(this.locationForm.value);\n            });\n        }\n        deleteLocation(location) {\n            return Object(tslib_es6[\"a\" /* __awaiter */])(this, void 0, void 0, function* () {\n                yield this.locationFacadeService.deleteLocation(location);\n                yield this.router.navigate(['/locations']);\n            });\n        }\n    }\n    LocationEditPage.ɵfac = function LocationEditPage_Factory(t) { return new (t || LocationEditPage)(core[\"Nb\" /* ɵɵdirectiveInject */](locations_facade_service[\"a\" /* LocationsFacadeService */]), core[\"Nb\" /* ɵɵdirectiveInject */](fesm2015_router[\"g\" /* Router */]), core[\"Nb\" /* ɵɵdirectiveInject */](fesm2015_router[\"a\" /* ActivatedRoute */]), core[\"Nb\" /* ɵɵdirectiveInject */](auth_service[\"a\" /* AuthService */]), core[\"Nb\" /* ɵɵdirectiveInject */](ngx_permissions[\"c\" /* NgxPermissionsService */])); };\n    LocationEditPage.ɵcmp = core[\"Hb\" /* ɵɵdefineComponent */]({ type: LocationEditPage, selectors: [[\"app-location-edit\"]], decls: 37, vars: 26, consts: [[3, \"title\", 4, \"ngIf\"], [\"class\", \"ion-margin-top ion-padding-start ion-padding-end\", 4, \"ngIf\"], [1, \"ion-no-margin\", \"strong\", \"ion-margin-start\"], [1, \"ion-padding\", 3, \"formGroup\", \"ngSubmit\"], [\"appearance\", \"outline\", \"color\", \"primary\"], [\"matInput\", \"\", \"formControlName\", \"name\"], [\"matInput\", \"\", \"formControlName\", \"address\"], [\"appearance\", \"outline\"], [\"type\", \"text\", \"matInput\", \"\", \"formControlName\", \"zip_code\"], [\"type\", \"text\", \"matInput\", \"\", \"formControlName\", \"city\"], [\"type\", \"text\", \"matInput\", \"\", \"formControlName\", \"remark\"], [3, \"saveButtonClick\", 4, \"ngxPermissionsOnly\"], [\"expand\", \"block\", \"mode\", \"md\", \"class\", \"ion-margin-top ion-margin-bottom\", 3, \"click\", 4, \"ngIf\"], [3, \"title\"], [3, \"defaultHref\"], [1, \"ion-margin-top\", \"ion-padding-start\", \"ion-padding-end\"], [\"mat-stroked-button\", \"\", \"color\", \"primary\", \"routerLinkActive\", \"router-link-active\", 3, \"routerLink\", 4, \"ngxPermissionsOnly\"], [\"mat-stroked-button\", \"\", \"color\", \"primary\", \"routerLinkActive\", \"router-link-active\", 3, \"routerLink\"], [3, \"saveButtonClick\"], [\"expand\", \"block\", \"mode\", \"md\", 1, \"ion-margin-top\", \"ion-margin-bottom\", 3, \"click\"]], template: function LocationEditPage_Template(rf, ctx) {\n            if (rf & 1) {\n                core[\"Tb\" /* ɵɵelementStart */](0, \"ion-header\");\n                core[\"zc\" /* ɵɵtemplate */](1, LocationEditPage_app_primary_header_1_Template, 3, 4, \"app-primary-header\", 0);\n                core[\"zc\" /* ɵɵtemplate */](2, LocationEditPage_app_primary_header_2_Template, 2, 2, \"app-primary-header\", 0);\n                core[\"Sb\" /* ɵɵelementEnd */]();\n                core[\"Tb\" /* ɵɵelementStart */](3, \"ion-content\");\n                core[\"zc\" /* ɵɵtemplate */](4, LocationEditPage_div_4_Template, 2, 3, \"div\", 1);\n                core[\"Ob\" /* ɵɵelement */](5, \"br\");\n                core[\"Tb\" /* ɵɵelementStart */](6, \"h5\", 2);\n                core[\"Bc\" /* ɵɵtext */](7);\n                core[\"fc\" /* ɵɵpipe */](8, \"translate\");\n                core[\"Sb\" /* ɵɵelementEnd */]();\n                core[\"Tb\" /* ɵɵelementStart */](9, \"form\", 3);\n                core[\"bc\" /* ɵɵlistener */](\"ngSubmit\", function LocationEditPage_Template_form_ngSubmit_9_listener() { return ctx.addOrUpdate(); });\n                core[\"Tb\" /* ɵɵelementStart */](10, \"mat-form-field\", 4);\n                core[\"Tb\" /* ɵɵelementStart */](11, \"mat-label\");\n                core[\"Bc\" /* ɵɵtext */](12);\n                core[\"fc\" /* ɵɵpipe */](13, \"translate\");\n                core[\"Sb\" /* ɵɵelementEnd */]();\n                core[\"Ob\" /* ɵɵelement */](14, \"input\", 5);\n                core[\"Sb\" /* ɵɵelementEnd */]();\n                core[\"Tb\" /* ɵɵelementStart */](15, \"mat-form-field\", 4);\n                core[\"Tb\" /* ɵɵelementStart */](16, \"mat-label\");\n                core[\"Bc\" /* ɵɵtext */](17);\n                core[\"fc\" /* ɵɵpipe */](18, \"translate\");\n                core[\"Sb\" /* ɵɵelementEnd */]();\n                core[\"Ob\" /* ɵɵelement */](19, \"input\", 6);\n                core[\"Sb\" /* ɵɵelementEnd */]();\n                core[\"Tb\" /* ɵɵelementStart */](20, \"mat-form-field\", 7);\n                core[\"Tb\" /* ɵɵelementStart */](21, \"mat-label\");\n                core[\"Bc\" /* ɵɵtext */](22);\n                core[\"fc\" /* ɵɵpipe */](23, \"translate\");\n                core[\"Sb\" /* ɵɵelementEnd */]();\n                core[\"Ob\" /* ɵɵelement */](24, \"input\", 8);\n                core[\"Sb\" /* ɵɵelementEnd */]();\n                core[\"Tb\" /* ɵɵelementStart */](25, \"mat-form-field\", 7);\n                core[\"Tb\" /* ɵɵelementStart */](26, \"mat-label\");\n                core[\"Bc\" /* ɵɵtext */](27);\n                core[\"fc\" /* ɵɵpipe */](28, \"translate\");\n                core[\"Sb\" /* ɵɵelementEnd */]();\n                core[\"Ob\" /* ɵɵelement */](29, \"input\", 9);\n                core[\"Sb\" /* ɵɵelementEnd */]();\n                core[\"Tb\" /* ɵɵelementStart */](30, \"mat-form-field\", 7);\n                core[\"Tb\" /* ɵɵelementStart */](31, \"mat-label\");\n                core[\"Bc\" /* ɵɵtext */](32);\n                core[\"fc\" /* ɵɵpipe */](33, \"translate\");\n                core[\"Sb\" /* ɵɵelementEnd */]();\n                core[\"Ob\" /* ɵɵelement */](34, \"input\", 10);\n                core[\"Sb\" /* ɵɵelementEnd */]();\n                core[\"zc\" /* ɵɵtemplate */](35, LocationEditPage_app_form_footer_35_Template, 1, 0, \"app-form-footer\", 11);\n                core[\"zc\" /* ɵɵtemplate */](36, LocationEditPage_ion_button_36_Template, 3, 3, \"ion-button\", 12);\n                core[\"Sb\" /* ɵɵelementEnd */]();\n                core[\"Sb\" /* ɵɵelementEnd */]();\n            }\n            if (rf & 2) {\n                core[\"Cb\" /* ɵɵadvance */](1);\n                core[\"lc\" /* ɵɵproperty */](\"ngIf\", !ctx.location);\n                core[\"Cb\" /* ɵɵadvance */](1);\n                core[\"lc\" /* ɵɵproperty */](\"ngIf\", ctx.location);\n                core[\"Cb\" /* ɵɵadvance */](2);\n                core[\"lc\" /* ɵɵproperty */](\"ngIf\", ctx.location && ctx.location.id);\n                core[\"Cb\" /* ɵɵadvance */](3);\n                core[\"Cc\" /* ɵɵtextInterpolate */](core[\"gc\" /* ɵɵpipeBind1 */](8, 12, \"Address\"));\n                core[\"Cb\" /* ɵɵadvance */](2);\n                core[\"lc\" /* ɵɵproperty */](\"formGroup\", ctx.locationForm);\n                core[\"Cb\" /* ɵɵadvance */](3);\n                core[\"Cc\" /* ɵɵtextInterpolate */](core[\"gc\" /* ɵɵpipeBind1 */](13, 14, \"Designation\"));\n                core[\"Cb\" /* ɵɵadvance */](5);\n                core[\"Cc\" /* ɵɵtextInterpolate */](core[\"gc\" /* ɵɵpipeBind1 */](18, 16, \"Street / Housenumber\"));\n                core[\"Cb\" /* ɵɵadvance */](5);\n                core[\"Cc\" /* ɵɵtextInterpolate */](core[\"gc\" /* ɵɵpipeBind1 */](23, 18, \"Pincode\"));\n                core[\"Cb\" /* ɵɵadvance */](5);\n                core[\"Cc\" /* ɵɵtextInterpolate */](core[\"gc\" /* ɵɵpipeBind1 */](28, 20, \"Place\"));\n                core[\"Cb\" /* ɵɵadvance */](5);\n                core[\"Cc\" /* ɵɵtextInterpolate */](core[\"gc\" /* ɵɵpipeBind1 */](33, 22, \"Remarks\"));\n                core[\"Cb\" /* ɵɵadvance */](3);\n                core[\"lc\" /* ɵɵproperty */](\"ngxPermissionsOnly\", core[\"pc\" /* ɵɵpureFunction1 */](24, _c1, ctx.Roles.LocManager));\n                core[\"Cb\" /* ɵɵadvance */](1);\n                core[\"lc\" /* ɵɵproperty */](\"ngIf\", ctx.location);\n            }\n        }, directives: [ionic_angular[\"s\" /* IonHeader */], common[\"m\" /* NgIf */], ionic_angular[\"p\" /* IonContent */], fesm2015_forms[\"y\" /* ɵangular_packages_forms_forms_ba */], fesm2015_forms[\"q\" /* NgControlStatusGroup */], fesm2015_forms[\"i\" /* FormGroupDirective */], form_field[\"b\" /* MatFormField */], form_field[\"e\" /* MatLabel */], input[\"b\" /* MatInput */], fesm2015_forms[\"c\" /* DefaultValueAccessor */], fesm2015_forms[\"p\" /* NgControlStatus */], fesm2015_forms[\"g\" /* FormControlName */], ngx_permissions[\"a\" /* NgxPermissionsDirective */], primary_header_component[\"a\" /* PrimaryHeaderComponent */], ionic_angular[\"f\" /* IonBackButton */], ionic_angular[\"g\" /* IonBackButtonDelegate */], fesm2015_button[\"a\" /* MatButton */], fesm2015_router[\"i\" /* RouterLinkActive */], ionic_angular[\"X\" /* RouterLinkDelegate */], fesm2015_router[\"h\" /* RouterLink */], form_footer_component[\"a\" /* FormFooterComponent */], ionic_angular[\"i\" /* IonButton */]], pipes: [ngx_translate_core[\"c\" /* TranslatePipe */]], styles: [\"button[_ngcontent-%COMP%]{width:100%}\"] });\n    Object(tslib_es6[\"b\" /* __decorate */])([\n        Object(completion_notifier[\"a\" /* completionNotifier */])(),\n        Object(loader[\"a\" /* loader */])()\n    ], LocationEditPage.prototype, \"addOrUpdate\", null);\n    Object(tslib_es6[\"b\" /* __decorate */])([\n        Object(confirm_operation[\"a\" /* confirmOperation */])('Deleting Location'),\n        Object(loader[\"a\" /* loader */])(),\n        Object(completion_notifier[\"a\" /* completionNotifier */])('', true, 'Cannot delete this location because it is being used by an Order')\n    ], LocationEditPage.prototype, \"deleteLocation\", null);\n    return LocationEditPage;\n})();\n\n// CONCATENATED MODULE: ./src/app/pages/locations/location-edit/location-edit-routing.module.ts\n\n\n\n\nconst routes = [\n    {\n        path: '',\n        component: location_edit_page_LocationEditPage\n    }\n];\nlet location_edit_routing_module_LocationEditPageRoutingModule = /*@__PURE__*/ (() => {\n    class LocationEditPageRoutingModule {\n    }\n    LocationEditPageRoutingModule.ɵfac = function LocationEditPageRoutingModule_Factory(t) { return new (t || LocationEditPageRoutingModule)(); };\n    LocationEditPageRoutingModule.ɵmod = core[\"Lb\" /* ɵɵdefineNgModule */]({ type: LocationEditPageRoutingModule });\n    LocationEditPageRoutingModule.ɵinj = core[\"Kb\" /* ɵɵdefineInjector */]({ imports: [[fesm2015_router[\"j\" /* RouterModule */].forChild(routes)], fesm2015_router[\"j\" /* RouterModule */]] });\n    return LocationEditPageRoutingModule;\n})();\n\n// EXTERNAL MODULE: ./src/app/shared/shared.module.ts + 5 modules\nvar shared_module = __webpack_require__(\"PCNd\");\n\n// CONCATENATED MODULE: ./src/app/pages/locations/location-edit/location-edit.module.ts\n\n\n\n\n\nlet location_edit_module_LocationEditPageModule = /*@__PURE__*/ (() => {\n    class LocationEditPageModule {\n    }\n    LocationEditPageModule.ɵfac = function LocationEditPageModule_Factory(t) { return new (t || LocationEditPageModule)(); };\n    LocationEditPageModule.ɵmod = core[\"Lb\" /* ɵɵdefineNgModule */]({ type: LocationEditPageModule });\n    LocationEditPageModule.ɵinj = core[\"Kb\" /* ɵɵdefineInjector */]({ imports: [[\n                shared_module[\"a\" /* SharedModule */],\n                location_edit_routing_module_LocationEditPageRoutingModule,\n                ngx_permissions[\"b\" /* NgxPermissionsModule */].forChild()\n            ]] });\n    return LocationEditPageModule;\n})();\n\n\n/***/ }),\n\n/***/ \"v++7\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n\n// EXPORTS\n__webpack_require__.d(__webpack_exports__, \"a\", function() { return /* binding */ completionNotifier; });\n\n// EXTERNAL MODULE: ./node_modules/tslib/tslib.es6.js\nvar tslib_es6 = __webpack_require__(\"mrSG\");\n\n// EXTERNAL MODULE: ./node_modules/@ionic/angular/__ivy_ngcc__/fesm2015/ionic-angular.js + 6 modules\nvar ionic_angular = __webpack_require__(\"TEn/\");\n\n// EXTERNAL MODULE: ./src/app/shared/services/decorator.service.ts\nvar decorator_service = __webpack_require__(\"1Xxd\");\n\n// EXTERNAL MODULE: ./node_modules/lodash/lodash.js\nvar lodash = __webpack_require__(\"LvDl\");\n\n// EXTERNAL MODULE: ./node_modules/@angular/core/__ivy_ngcc__/fesm2015/core.js\nvar core = __webpack_require__(\"fXoL\");\n\n// CONCATENATED MODULE: ./src/app/shared/services/error-message.service.ts\n\n\n\nlet error_message_service_ErrorMessageService = /*@__PURE__*/ (() => {\n    class ErrorMessageService {\n        static toDisplayMessage(error) {\n            if (error.error) {\n                error = error.error;\n            }\n            const translateService = decorator_service[\"a\" /* DecoratorService */].getService();\n            const messages = Object.entries(error).map(([field, val]) => {\n                const name = lodash[\"startCase\"](lodash[\"camelCase\"](field));\n                if (lodash[\"isPlainObject\"](val)) {\n                    return this.toDisplayMessage(val);\n                }\n                if (lodash[\"isArray\"](val)) {\n                    return `${translateService.instant(name)}: ${val.join(', ')}`;\n                }\n                return `${translateService.instant(name)}: ${val}`;\n            });\n            return messages.join('\\n');\n        }\n    }\n    ErrorMessageService.ɵfac = function ErrorMessageService_Factory(t) { return new (t || ErrorMessageService)(); };\n    ErrorMessageService.ɵprov = core[\"Jb\" /* ɵɵdefineInjectable */]({ token: ErrorMessageService, factory: ErrorMessageService.ɵfac, providedIn: 'root' });\n    return ErrorMessageService;\n})();\n\n// CONCATENATED MODULE: ./src/app/shared/decorators/completion-notifier.ts\n\n\n\n\nfunction completionNotifier(onCompletionMessage = 'Success!', enableToast = true, errorMessage = null) {\n    return (target, propertyKey, descriptor) => {\n        const originalMethod = descriptor.value;\n        descriptor.value = function (...args) {\n            return Object(tslib_es6[\"a\" /* __awaiter */])(this, void 0, void 0, function* () {\n                const toastController = new ionic_angular[\"Z\" /* ToastController */]();\n                const translateService = decorator_service[\"a\" /* DecoratorService */].getService();\n                if (errorMessage) {\n                    errorMessage = translateService.instant(errorMessage);\n                }\n                let toast;\n                let result;\n                try {\n                    result = yield originalMethod.apply(this, args);\n                    if (enableToast) {\n                        toast = yield toastController.create({\n                            message: translateService.instant(onCompletionMessage),\n                            duration: 2000,\n                            position: 'bottom',\n                            color: 'success'\n                        });\n                        toast.present();\n                    }\n                }\n                catch (error) {\n                    toast = yield toastController.create({\n                        header: translateService.instant('Error!'),\n                        message: errorMessage || error_message_service_ErrorMessageService.toDisplayMessage(error),\n                        duration: 20000,\n                        position: 'middle',\n                        color: 'primary',\n                        cssClass: 'error-toast',\n                        buttons: [{\n                                text: translateService.instant('OK'),\n                                role: 'cancel'\n                            }]\n                    });\n                    toast.present();\n                    const element = document.querySelector('.error-toast');\n                    element.shadowRoot.querySelector('.toast-header').setAttribute('style', 'font-weight: bold; font-size: 1.4em');\n                    element.shadowRoot.querySelector('.toast-button-inner').setAttribute('style', 'font-weight: bold');\n                }\n                return result;\n            });\n        };\n        return descriptor;\n    };\n}\n\n\n/***/ })\n\n}]);","inputSourceMap":null}