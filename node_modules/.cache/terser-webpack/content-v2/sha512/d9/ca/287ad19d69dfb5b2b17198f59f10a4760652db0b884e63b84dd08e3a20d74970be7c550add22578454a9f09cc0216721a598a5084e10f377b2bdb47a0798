{"code":"(window.webpackJsonp=window.webpackJsonp||[]).push([[24],{\"787t\":function(e,t,i){\"use strict\";i.d(t,\"a\",function(){return s});var o=i(\"mrSG\"),r=i(\"LvDl\"),n=i(\"fXoL\"),a=i(\"7jUV\"),c=i(\"T0Tu\");let s=(()=>{class e{constructor(e,t,i){this.companyService=e,this.accountService=t,this.locationService=i}getCompanies(){return Object(o.a)(this,void 0,void 0,function*(){return yield(yield this.companyService.companiesList()).toPromise()})}getLocations(){return Object(o.a)(this,void 0,void 0,function*(){return yield this.locationService.getLocations()})}getUserInfo(){return Object(o.a)(this,void 0,void 0,function*(){return yield(yield this.accountService.accountUserMeRetrieve()).toPromise().then(e=>(e.options&&(e.options.experience&&(e.options.experience=r.sortBy(e.options.experience,\"name\")),e.options.certificates&&(e.options.certificates=r.sortBy(e.options.certificates,\"name\")),e.options.training&&(e.options.training=r.sortBy(e.options.training,\"name\"))),e))})}updateUserInfo(e){return Object(o.a)(this,void 0,void 0,function*(){return yield(yield this.accountService.accountUserPartialUpdate$FormData({id:e.id,body:e})).toPromise()})}updateServiceProviderProfile(e){return Object(o.a)(this,void 0,void 0,function*(){return yield(yield this.accountService.accountUserPartialUpdate$Json({id:e.id,body:e})).toPromise()})}getUserById(e){return Object(o.a)(this,void 0,void 0,function*(){return yield(yield this.accountService.accountUserRetrieve({id:e})).toPromise()})}uploadProfilePicture(e,t){return Object(o.a)(this,void 0,void 0,function*(){return yield(yield this.accountService.accountUserProfilePictureUpdate({id:e.id,body:{profile_picture:t}})).toPromise()})}}return e.\\u0275fac=function(t){return new(t||e)(n.Xb(a.b),n.Xb(a.a),n.Xb(c.a))},e.\\u0275prov=n.Jb({token:e,factory:e.\\u0275fac,providedIn:\"root\"}),e})()},JnOY:function(e,t,i){\"use strict\";i.r(t),i.d(t,\"CustomerPageModule\",function(){return C});var o=i(\"tyNb\"),r=i(\"mrSG\"),n=i(\"3Pt+\"),a=i(\"v++7\"),c=i(\"W4DG\"),s=i(\"LvDl\"),u=i(\"fXoL\"),l=i(\"787t\"),d=i(\"TEn/\"),p=i(\"qO5g\"),b=i(\"ofXK\"),m=i(\"kmnG\"),f=i(\"qFsG\"),v=i(\"sYmb\");function y(e,t){if(1&e&&(u.Tb(0,\"mat-form-field\",3),u.Tb(1,\"mat-label\"),u.Bc(2),u.fc(3,\"translate\"),u.Sb(),u.Ob(4,\"input\",11),u.Sb()),2&e){const e=u.ec();u.Cb(2),u.Cc(u.gc(3,2,\"Username\")),u.Cb(2),u.lc(\"value\",e.user.username)}}const h=[{path:\"\",component:(()=>{class e{constructor(e,t,i){this.profileFacadeService=e,this.navController=t,this.router=i,this.profileForm=new n.h({id:new n.e(null),company:new n.e(\"\",n.x.required),email:new n.e(\"\",n.x.required),first_name:new n.e(\"\",n.x.required),last_name:new n.e(\"\",n.x.required),is_service_provider:new n.e(\"\",n.x.required),phone:new n.e(\"\",n.x.required)})}get company(){return this.companies&&this.profileForm.get(\"company\").value?s.find(this.companies,{id:this.profileForm.get(\"company\").value}):null}ngOnInit(){return Object(r.a)(this,void 0,void 0,function*(){this.companies=yield this.profileFacadeService.getCompanies(),this.user=yield this.profileFacadeService.getUserInfo(),this.updateForm()})}updateForm(){this.profileForm.patchValue(Object.assign({company:this.companies[this.user.company]},this.user))}updateProfile(){return Object(r.a)(this,void 0,void 0,function*(){this.user=yield this.profileFacadeService.updateUserInfo(this.profileForm.value),this.updateForm()})}}return e.\\u0275fac=function(t){return new(t||e)(u.Nb(l.a),u.Nb(d.T),u.Nb(o.g))},e.\\u0275cmp=u.Hb({type:e,selectors:[[\"app-customer\"]],decls:33,vars:24,consts:[[3,\"title\"],[1,\"ion-padding\",3,\"formGroup\",\"ngSubmit\"],[\"appearance\",\"outline\",\"color\",\"primary\",4,\"ngIf\"],[\"appearance\",\"outline\",\"color\",\"primary\"],[\"type\",\"text\",\"matInput\",\"\",\"formControlName\",\"first_name\"],[\"appearance\",\"outline\"],[\"type\",\"text\",\"matInput\",\"\",\"formControlName\",\"last_name\"],[\"type\",\"text\",\"matInput\",\"\",\"formControlName\",\"phone\"],[\"type\",\"email\",\"matInput\",\"\",\"formControlName\",\"email\"],[\"expand\",\"block\",\"mode\",\"md\",\"type\",\"submit\",1,\"ion-margin-top\",\"ion-margin-bottom\",3,\"disabled\"],[\"routerLink\",\"/auth/password/change\",\"mode\",\"md\",\"expand\",\"block\",\"fill\",\"outline\"],[\"type\",\"text\",\"matInput\",\"\",\"disabled\",\"\",1,\"disabled-input\",3,\"value\"]],template:function(e,t){1&e&&(u.Tb(0,\"ion-header\"),u.Tb(1,\"app-primary-header\",0),u.fc(2,\"translate\"),u.Ob(3,\"ion-back-button\"),u.Sb(),u.Sb(),u.Tb(4,\"ion-content\"),u.Tb(5,\"form\",1),u.bc(\"ngSubmit\",function(){return t.updateProfile()}),u.zc(6,y,5,4,\"mat-form-field\",2),u.Tb(7,\"mat-form-field\",3),u.Tb(8,\"mat-label\"),u.Bc(9),u.fc(10,\"translate\"),u.Sb(),u.Ob(11,\"input\",4),u.Sb(),u.Tb(12,\"mat-form-field\",5),u.Tb(13,\"mat-label\"),u.Bc(14),u.fc(15,\"translate\"),u.Sb(),u.Ob(16,\"input\",6),u.Sb(),u.Tb(17,\"mat-form-field\",5),u.Tb(18,\"mat-label\"),u.Bc(19),u.fc(20,\"translate\"),u.Sb(),u.Ob(21,\"input\",7),u.Sb(),u.Tb(22,\"mat-form-field\",5),u.Tb(23,\"mat-label\"),u.Bc(24),u.fc(25,\"translate\"),u.Sb(),u.Ob(26,\"input\",8),u.Sb(),u.Tb(27,\"ion-button\",9),u.Bc(28),u.fc(29,\"translate\"),u.Sb(),u.Tb(30,\"ion-button\",10),u.Bc(31),u.fc(32,\"translate\"),u.Sb(),u.Sb(),u.Sb()),2&e&&(u.Cb(1),u.lc(\"title\",u.gc(2,10,\"Profile\")),u.Cb(4),u.lc(\"formGroup\",t.profileForm),u.Cb(1),u.lc(\"ngIf\",t.user&&t.user.username),u.Cb(3),u.Cc(u.gc(10,12,\"First Name\")),u.Cb(5),u.Cc(u.gc(15,14,\"Last Name\")),u.Cb(5),u.Cc(u.gc(20,16,\"Phone\")),u.Cb(5),u.Cc(u.gc(25,18,\"E-Mail\")),u.Cb(3),u.lc(\"disabled\",!t.profileForm.valid),u.Cb(1),u.Cc(u.gc(29,20,\"Update\")),u.Cb(3),u.Cc(u.gc(32,22,\"Change Password\")))},directives:[d.s,p.a,d.f,d.g,d.p,n.y,n.q,n.i,b.m,m.b,m.e,f.b,n.c,n.p,n.g,d.i,d.X,o.h],pipes:[v.c],styles:[\"\"]}),Object(r.b)([Object(a.a)(),Object(c.a)()],e.prototype,\"updateProfile\",null),e})()}];let S=(()=>{class e{}return e.\\u0275fac=function(t){return new(t||e)},e.\\u0275mod=u.Lb({type:e}),e.\\u0275inj=u.Kb({imports:[[o.j.forChild(h)],o.j]}),e})();var g=i(\"PCNd\");let C=(()=>{class e{}return e.\\u0275fac=function(t){return new(t||e)},e.\\u0275mod=u.Lb({type:e}),e.\\u0275inj=u.Kb({imports:[[g.a,S]]}),e})()},T0Tu:function(e,t,i){\"use strict\";i.d(t,\"a\",function(){return c});var o=i(\"mrSG\"),r=i(\"fXoL\"),n=i(\"7jUV\"),a=i(\"IYfF\");let c=(()=>{class e{constructor(e,t){this.locationService=e,this.authService=t}getLocations(){return Object(o.a)(this,void 0,void 0,function*(){return yield(yield this.locationService.locationsList()).toPromise()})}getLocation(e){return Object(o.a)(this,void 0,void 0,function*(){return yield(yield this.locationService.locationsRetrieve({id:e})).toPromise()})}addLocation(e){return Object(o.a)(this,void 0,void 0,function*(){const t=yield(yield this.authService.getUserInfo()).company;return e.company=t,yield(yield this.locationService.locationsCreate$Json({body:e})).toPromise()})}updateLocation(e){return Object(o.a)(this,void 0,void 0,function*(){return yield(yield this.locationService.locationsPartialUpdate$Json({id:e.id,body:e})).toPromise()})}deleteLocation(e){return Object(o.a)(this,void 0,void 0,function*(){return yield(yield this.locationService.locationsDestroy({id:e.id})).toPromise()})}}return e.\\u0275fac=function(t){return new(t||e)(r.Xb(n.e),r.Xb(a.a))},e.\\u0275prov=r.Jb({token:e,factory:e.\\u0275fac,providedIn:\"root\"}),e})()},W4DG:function(e,t,i){\"use strict\";i.d(t,\"a\",function(){return n});var o=i(\"mrSG\"),r=i(\"TEn/\");function n(){return(e,t,i)=>{const n=i.value;return i.value=function(...e){return Object(o.a)(this,void 0,void 0,function*(){let t;const i=new r.R,o=yield i.create();yield o.present();try{t=yield n.apply(this,e)}catch(a){throw o.dismiss(),a}return o.dismiss(),t})},i}}},\"v++7\":function(e,t,i){\"use strict\";i.d(t,\"a\",function(){return u});var o=i(\"mrSG\"),r=i(\"TEn/\"),n=i(\"1Xxd\"),a=i(\"LvDl\"),c=i(\"fXoL\");let s=(()=>{class e{static toDisplayMessage(e){e.error&&(e=e.error);const t=n.a.getService();return Object.entries(e).map(([e,i])=>{const o=a.startCase(a.camelCase(e));return a.isPlainObject(i)?this.toDisplayMessage(i):a.isArray(i)?`${t.instant(o)}: ${i.join(\", \")}`:`${t.instant(o)}: ${i}`}).join(\"\\n\")}}return e.\\u0275fac=function(t){return new(t||e)},e.\\u0275prov=c.Jb({token:e,factory:e.\\u0275fac,providedIn:\"root\"}),e})();function u(e=\"Success!\",t=!0,i=null){return(a,c,u)=>{const l=u.value;return u.value=function(...a){return Object(o.a)(this,void 0,void 0,function*(){const o=new r.Z,c=n.a.getService();let u,d;i&&(i=c.instant(i));try{d=yield l.apply(this,a),t&&(u=yield o.create({message:c.instant(e),duration:2e3,position:\"bottom\",color:\"success\"}),u.present())}catch(p){u=yield o.create({header:c.instant(\"Error!\"),message:i||s.toDisplayMessage(p),duration:2e4,position:\"middle\",color:\"primary\",cssClass:\"error-toast\",buttons:[{text:c.instant(\"OK\"),role:\"cancel\"}]}),u.present();const e=document.querySelector(\".error-toast\");e.shadowRoot.querySelector(\".toast-header\").setAttribute(\"style\",\"font-weight: bold; font-size: 1.4em\"),e.shadowRoot.querySelector(\".toast-button-inner\").setAttribute(\"style\",\"font-weight: bold\")}return d})},u}}}}]);","name":"24.e4f9f069a9e9977a3806.js","input":"(window[\"webpackJsonp\"] = window[\"webpackJsonp\"] || []).push([[24],{\n\n/***/ \"787t\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"a\", function() { return ProfileFacadeService; });\n/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(\"mrSG\");\n/* harmony import */ var lodash__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(\"LvDl\");\n/* harmony import */ var lodash__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(lodash__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(\"fXoL\");\n/* harmony import */ var src_api_services__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(\"7jUV\");\n/* harmony import */ var _locations_locations_facade_service__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(\"T0Tu\");\n\n\n\n\n\nlet ProfileFacadeService = /*@__PURE__*/ (() => {\n    class ProfileFacadeService {\n        constructor(companyService, accountService, locationService) {\n            this.companyService = companyService;\n            this.accountService = accountService;\n            this.locationService = locationService;\n        }\n        getCompanies() {\n            return Object(tslib__WEBPACK_IMPORTED_MODULE_0__[/* __awaiter */ \"a\"])(this, void 0, void 0, function* () {\n                return yield (yield this.companyService.companiesList()).toPromise();\n            });\n        }\n        getLocations() {\n            return Object(tslib__WEBPACK_IMPORTED_MODULE_0__[/* __awaiter */ \"a\"])(this, void 0, void 0, function* () {\n                return yield this.locationService.getLocations();\n            });\n        }\n        getUserInfo() {\n            return Object(tslib__WEBPACK_IMPORTED_MODULE_0__[/* __awaiter */ \"a\"])(this, void 0, void 0, function* () {\n                return yield (yield this.accountService.accountUserMeRetrieve()).toPromise().then((user) => {\n                    if (user.options) {\n                        if (user.options.experience) {\n                            user.options.experience = lodash__WEBPACK_IMPORTED_MODULE_1__[\"sortBy\"](user.options.experience, 'name');\n                        }\n                        if (user.options.certificates) {\n                            user.options.certificates = lodash__WEBPACK_IMPORTED_MODULE_1__[\"sortBy\"](user.options.certificates, 'name');\n                        }\n                        if (user.options.training) {\n                            user.options.training = lodash__WEBPACK_IMPORTED_MODULE_1__[\"sortBy\"](user.options.training, 'name');\n                        }\n                    }\n                    return user;\n                });\n            });\n        }\n        updateUserInfo(user) {\n            return Object(tslib__WEBPACK_IMPORTED_MODULE_0__[/* __awaiter */ \"a\"])(this, void 0, void 0, function* () {\n                return yield (yield this.accountService.accountUserPartialUpdate$FormData({\n                    id: user.id,\n                    body: user\n                })).toPromise();\n            });\n        }\n        updateServiceProviderProfile(user) {\n            return Object(tslib__WEBPACK_IMPORTED_MODULE_0__[/* __awaiter */ \"a\"])(this, void 0, void 0, function* () {\n                return yield (yield this.accountService.accountUserPartialUpdate$Json({\n                    id: user.id,\n                    body: user\n                })).toPromise();\n            });\n        }\n        getUserById(userId) {\n            return Object(tslib__WEBPACK_IMPORTED_MODULE_0__[/* __awaiter */ \"a\"])(this, void 0, void 0, function* () {\n                return yield (yield this.accountService.accountUserRetrieve({\n                    id: userId\n                })).toPromise();\n            });\n        }\n        uploadProfilePicture(user, picture) {\n            return Object(tslib__WEBPACK_IMPORTED_MODULE_0__[/* __awaiter */ \"a\"])(this, void 0, void 0, function* () {\n                return yield (yield this.accountService.accountUserProfilePictureUpdate({\n                    id: user.id,\n                    body: {\n                        profile_picture: picture\n                    }\n                })).toPromise();\n            });\n        }\n    }\n    ProfileFacadeService.ɵfac = function ProfileFacadeService_Factory(t) { return new (t || ProfileFacadeService)(_angular_core__WEBPACK_IMPORTED_MODULE_2__[/* ɵɵinject */ \"Xb\"](src_api_services__WEBPACK_IMPORTED_MODULE_3__[/* CompaniesService */ \"b\"]), _angular_core__WEBPACK_IMPORTED_MODULE_2__[/* ɵɵinject */ \"Xb\"](src_api_services__WEBPACK_IMPORTED_MODULE_3__[/* AccountService */ \"a\"]), _angular_core__WEBPACK_IMPORTED_MODULE_2__[/* ɵɵinject */ \"Xb\"](_locations_locations_facade_service__WEBPACK_IMPORTED_MODULE_4__[/* LocationsFacadeService */ \"a\"])); };\n    ProfileFacadeService.ɵprov = _angular_core__WEBPACK_IMPORTED_MODULE_2__[/* ɵɵdefineInjectable */ \"Jb\"]({ token: ProfileFacadeService, factory: ProfileFacadeService.ɵfac, providedIn: 'root' });\n    return ProfileFacadeService;\n})();\n\n\n/***/ }),\n\n/***/ \"JnOY\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n// ESM COMPAT FLAG\n__webpack_require__.r(__webpack_exports__);\n\n// EXPORTS\n__webpack_require__.d(__webpack_exports__, \"CustomerPageModule\", function() { return /* binding */ customer_module_CustomerPageModule; });\n\n// EXTERNAL MODULE: ./node_modules/@angular/router/__ivy_ngcc__/fesm2015/router.js + 7 modules\nvar fesm2015_router = __webpack_require__(\"tyNb\");\n\n// EXTERNAL MODULE: ./node_modules/tslib/tslib.es6.js\nvar tslib_es6 = __webpack_require__(\"mrSG\");\n\n// EXTERNAL MODULE: ./node_modules/@angular/forms/__ivy_ngcc__/fesm2015/forms.js\nvar fesm2015_forms = __webpack_require__(\"3Pt+\");\n\n// EXTERNAL MODULE: ./src/app/shared/decorators/completion-notifier.ts + 1 modules\nvar completion_notifier = __webpack_require__(\"v++7\");\n\n// EXTERNAL MODULE: ./src/app/shared/decorators/loader.ts\nvar loader = __webpack_require__(\"W4DG\");\n\n// EXTERNAL MODULE: ./node_modules/lodash/lodash.js\nvar lodash = __webpack_require__(\"LvDl\");\n\n// EXTERNAL MODULE: ./node_modules/@angular/core/__ivy_ngcc__/fesm2015/core.js\nvar core = __webpack_require__(\"fXoL\");\n\n// EXTERNAL MODULE: ./src/app/pages/auth/profile/profile-facade.service.ts\nvar profile_facade_service = __webpack_require__(\"787t\");\n\n// EXTERNAL MODULE: ./node_modules/@ionic/angular/__ivy_ngcc__/fesm2015/ionic-angular.js + 6 modules\nvar ionic_angular = __webpack_require__(\"TEn/\");\n\n// EXTERNAL MODULE: ./src/app/shared/components/header/primary-header/primary-header.component.ts\nvar primary_header_component = __webpack_require__(\"qO5g\");\n\n// EXTERNAL MODULE: ./node_modules/@angular/common/__ivy_ngcc__/fesm2015/common.js\nvar common = __webpack_require__(\"ofXK\");\n\n// EXTERNAL MODULE: ./node_modules/@angular/material/__ivy_ngcc__/fesm2015/form-field.js\nvar form_field = __webpack_require__(\"kmnG\");\n\n// EXTERNAL MODULE: ./node_modules/@angular/material/__ivy_ngcc__/fesm2015/input.js + 1 modules\nvar input = __webpack_require__(\"qFsG\");\n\n// EXTERNAL MODULE: ./node_modules/@ngx-translate/core/__ivy_ngcc__/fesm2015/ngx-translate-core.js\nvar ngx_translate_core = __webpack_require__(\"sYmb\");\n\n// CONCATENATED MODULE: ./src/app/pages/auth/profile/customer/customer.page.ts\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nfunction CustomerPage_mat_form_field_6_Template(rf, ctx) {\n    if (rf & 1) {\n        core[\"Tb\" /* ɵɵelementStart */](0, \"mat-form-field\", 3);\n        core[\"Tb\" /* ɵɵelementStart */](1, \"mat-label\");\n        core[\"Bc\" /* ɵɵtext */](2);\n        core[\"fc\" /* ɵɵpipe */](3, \"translate\");\n        core[\"Sb\" /* ɵɵelementEnd */]();\n        core[\"Ob\" /* ɵɵelement */](4, \"input\", 11);\n        core[\"Sb\" /* ɵɵelementEnd */]();\n    }\n    if (rf & 2) {\n        const ctx_r0 = core[\"ec\" /* ɵɵnextContext */]();\n        core[\"Cb\" /* ɵɵadvance */](2);\n        core[\"Cc\" /* ɵɵtextInterpolate */](core[\"gc\" /* ɵɵpipeBind1 */](3, 2, \"Username\"));\n        core[\"Cb\" /* ɵɵadvance */](2);\n        core[\"lc\" /* ɵɵproperty */](\"value\", ctx_r0.user.username);\n    }\n}\nlet customer_page_CustomerPage = /*@__PURE__*/ (() => {\n    class CustomerPage {\n        constructor(profileFacadeService, navController, router) {\n            this.profileFacadeService = profileFacadeService;\n            this.navController = navController;\n            this.router = router;\n            this.profileForm = new fesm2015_forms[\"h\" /* FormGroup */]({\n                id: new fesm2015_forms[\"e\" /* FormControl */](null),\n                company: new fesm2015_forms[\"e\" /* FormControl */]('', fesm2015_forms[\"x\" /* Validators */].required),\n                email: new fesm2015_forms[\"e\" /* FormControl */]('', fesm2015_forms[\"x\" /* Validators */].required),\n                first_name: new fesm2015_forms[\"e\" /* FormControl */]('', fesm2015_forms[\"x\" /* Validators */].required),\n                last_name: new fesm2015_forms[\"e\" /* FormControl */]('', fesm2015_forms[\"x\" /* Validators */].required),\n                is_service_provider: new fesm2015_forms[\"e\" /* FormControl */]('', fesm2015_forms[\"x\" /* Validators */].required),\n                phone: new fesm2015_forms[\"e\" /* FormControl */]('', fesm2015_forms[\"x\" /* Validators */].required)\n            });\n        }\n        get company() {\n            if (this.companies && this.profileForm.get('company').value) {\n                return lodash[\"find\"](this.companies, { id: this.profileForm.get('company').value });\n            }\n            return null;\n        }\n        ngOnInit() {\n            return Object(tslib_es6[\"a\" /* __awaiter */])(this, void 0, void 0, function* () {\n                this.companies = (yield this.profileFacadeService.getCompanies());\n                this.user = yield this.profileFacadeService.getUserInfo();\n                this.updateForm();\n            });\n        }\n        updateForm() {\n            this.profileForm.patchValue(Object.assign({ company: this.companies[this.user.company] }, this.user));\n        }\n        updateProfile() {\n            return Object(tslib_es6[\"a\" /* __awaiter */])(this, void 0, void 0, function* () {\n                this.user = yield this.profileFacadeService.updateUserInfo(this.profileForm.value);\n                this.updateForm();\n            });\n        }\n    }\n    CustomerPage.ɵfac = function CustomerPage_Factory(t) { return new (t || CustomerPage)(core[\"Nb\" /* ɵɵdirectiveInject */](profile_facade_service[\"a\" /* ProfileFacadeService */]), core[\"Nb\" /* ɵɵdirectiveInject */](ionic_angular[\"T\" /* NavController */]), core[\"Nb\" /* ɵɵdirectiveInject */](fesm2015_router[\"g\" /* Router */])); };\n    CustomerPage.ɵcmp = core[\"Hb\" /* ɵɵdefineComponent */]({ type: CustomerPage, selectors: [[\"app-customer\"]], decls: 33, vars: 24, consts: [[3, \"title\"], [1, \"ion-padding\", 3, \"formGroup\", \"ngSubmit\"], [\"appearance\", \"outline\", \"color\", \"primary\", 4, \"ngIf\"], [\"appearance\", \"outline\", \"color\", \"primary\"], [\"type\", \"text\", \"matInput\", \"\", \"formControlName\", \"first_name\"], [\"appearance\", \"outline\"], [\"type\", \"text\", \"matInput\", \"\", \"formControlName\", \"last_name\"], [\"type\", \"text\", \"matInput\", \"\", \"formControlName\", \"phone\"], [\"type\", \"email\", \"matInput\", \"\", \"formControlName\", \"email\"], [\"expand\", \"block\", \"mode\", \"md\", \"type\", \"submit\", 1, \"ion-margin-top\", \"ion-margin-bottom\", 3, \"disabled\"], [\"routerLink\", \"/auth/password/change\", \"mode\", \"md\", \"expand\", \"block\", \"fill\", \"outline\"], [\"type\", \"text\", \"matInput\", \"\", \"disabled\", \"\", 1, \"disabled-input\", 3, \"value\"]], template: function CustomerPage_Template(rf, ctx) {\n            if (rf & 1) {\n                core[\"Tb\" /* ɵɵelementStart */](0, \"ion-header\");\n                core[\"Tb\" /* ɵɵelementStart */](1, \"app-primary-header\", 0);\n                core[\"fc\" /* ɵɵpipe */](2, \"translate\");\n                core[\"Ob\" /* ɵɵelement */](3, \"ion-back-button\");\n                core[\"Sb\" /* ɵɵelementEnd */]();\n                core[\"Sb\" /* ɵɵelementEnd */]();\n                core[\"Tb\" /* ɵɵelementStart */](4, \"ion-content\");\n                core[\"Tb\" /* ɵɵelementStart */](5, \"form\", 1);\n                core[\"bc\" /* ɵɵlistener */](\"ngSubmit\", function CustomerPage_Template_form_ngSubmit_5_listener() { return ctx.updateProfile(); });\n                core[\"zc\" /* ɵɵtemplate */](6, CustomerPage_mat_form_field_6_Template, 5, 4, \"mat-form-field\", 2);\n                core[\"Tb\" /* ɵɵelementStart */](7, \"mat-form-field\", 3);\n                core[\"Tb\" /* ɵɵelementStart */](8, \"mat-label\");\n                core[\"Bc\" /* ɵɵtext */](9);\n                core[\"fc\" /* ɵɵpipe */](10, \"translate\");\n                core[\"Sb\" /* ɵɵelementEnd */]();\n                core[\"Ob\" /* ɵɵelement */](11, \"input\", 4);\n                core[\"Sb\" /* ɵɵelementEnd */]();\n                core[\"Tb\" /* ɵɵelementStart */](12, \"mat-form-field\", 5);\n                core[\"Tb\" /* ɵɵelementStart */](13, \"mat-label\");\n                core[\"Bc\" /* ɵɵtext */](14);\n                core[\"fc\" /* ɵɵpipe */](15, \"translate\");\n                core[\"Sb\" /* ɵɵelementEnd */]();\n                core[\"Ob\" /* ɵɵelement */](16, \"input\", 6);\n                core[\"Sb\" /* ɵɵelementEnd */]();\n                core[\"Tb\" /* ɵɵelementStart */](17, \"mat-form-field\", 5);\n                core[\"Tb\" /* ɵɵelementStart */](18, \"mat-label\");\n                core[\"Bc\" /* ɵɵtext */](19);\n                core[\"fc\" /* ɵɵpipe */](20, \"translate\");\n                core[\"Sb\" /* ɵɵelementEnd */]();\n                core[\"Ob\" /* ɵɵelement */](21, \"input\", 7);\n                core[\"Sb\" /* ɵɵelementEnd */]();\n                core[\"Tb\" /* ɵɵelementStart */](22, \"mat-form-field\", 5);\n                core[\"Tb\" /* ɵɵelementStart */](23, \"mat-label\");\n                core[\"Bc\" /* ɵɵtext */](24);\n                core[\"fc\" /* ɵɵpipe */](25, \"translate\");\n                core[\"Sb\" /* ɵɵelementEnd */]();\n                core[\"Ob\" /* ɵɵelement */](26, \"input\", 8);\n                core[\"Sb\" /* ɵɵelementEnd */]();\n                core[\"Tb\" /* ɵɵelementStart */](27, \"ion-button\", 9);\n                core[\"Bc\" /* ɵɵtext */](28);\n                core[\"fc\" /* ɵɵpipe */](29, \"translate\");\n                core[\"Sb\" /* ɵɵelementEnd */]();\n                core[\"Tb\" /* ɵɵelementStart */](30, \"ion-button\", 10);\n                core[\"Bc\" /* ɵɵtext */](31);\n                core[\"fc\" /* ɵɵpipe */](32, \"translate\");\n                core[\"Sb\" /* ɵɵelementEnd */]();\n                core[\"Sb\" /* ɵɵelementEnd */]();\n                core[\"Sb\" /* ɵɵelementEnd */]();\n            }\n            if (rf & 2) {\n                core[\"Cb\" /* ɵɵadvance */](1);\n                core[\"lc\" /* ɵɵproperty */](\"title\", core[\"gc\" /* ɵɵpipeBind1 */](2, 10, \"Profile\"));\n                core[\"Cb\" /* ɵɵadvance */](4);\n                core[\"lc\" /* ɵɵproperty */](\"formGroup\", ctx.profileForm);\n                core[\"Cb\" /* ɵɵadvance */](1);\n                core[\"lc\" /* ɵɵproperty */](\"ngIf\", ctx.user && ctx.user.username);\n                core[\"Cb\" /* ɵɵadvance */](3);\n                core[\"Cc\" /* ɵɵtextInterpolate */](core[\"gc\" /* ɵɵpipeBind1 */](10, 12, \"First Name\"));\n                core[\"Cb\" /* ɵɵadvance */](5);\n                core[\"Cc\" /* ɵɵtextInterpolate */](core[\"gc\" /* ɵɵpipeBind1 */](15, 14, \"Last Name\"));\n                core[\"Cb\" /* ɵɵadvance */](5);\n                core[\"Cc\" /* ɵɵtextInterpolate */](core[\"gc\" /* ɵɵpipeBind1 */](20, 16, \"Phone\"));\n                core[\"Cb\" /* ɵɵadvance */](5);\n                core[\"Cc\" /* ɵɵtextInterpolate */](core[\"gc\" /* ɵɵpipeBind1 */](25, 18, \"E-Mail\"));\n                core[\"Cb\" /* ɵɵadvance */](3);\n                core[\"lc\" /* ɵɵproperty */](\"disabled\", !ctx.profileForm.valid);\n                core[\"Cb\" /* ɵɵadvance */](1);\n                core[\"Cc\" /* ɵɵtextInterpolate */](core[\"gc\" /* ɵɵpipeBind1 */](29, 20, \"Update\"));\n                core[\"Cb\" /* ɵɵadvance */](3);\n                core[\"Cc\" /* ɵɵtextInterpolate */](core[\"gc\" /* ɵɵpipeBind1 */](32, 22, \"Change Password\"));\n            }\n        }, directives: [ionic_angular[\"s\" /* IonHeader */], primary_header_component[\"a\" /* PrimaryHeaderComponent */], ionic_angular[\"f\" /* IonBackButton */], ionic_angular[\"g\" /* IonBackButtonDelegate */], ionic_angular[\"p\" /* IonContent */], fesm2015_forms[\"y\" /* ɵangular_packages_forms_forms_ba */], fesm2015_forms[\"q\" /* NgControlStatusGroup */], fesm2015_forms[\"i\" /* FormGroupDirective */], common[\"m\" /* NgIf */], form_field[\"b\" /* MatFormField */], form_field[\"e\" /* MatLabel */], input[\"b\" /* MatInput */], fesm2015_forms[\"c\" /* DefaultValueAccessor */], fesm2015_forms[\"p\" /* NgControlStatus */], fesm2015_forms[\"g\" /* FormControlName */], ionic_angular[\"i\" /* IonButton */], ionic_angular[\"X\" /* RouterLinkDelegate */], fesm2015_router[\"h\" /* RouterLink */]], pipes: [ngx_translate_core[\"c\" /* TranslatePipe */]], styles: [\"\"] });\n    Object(tslib_es6[\"b\" /* __decorate */])([\n        Object(completion_notifier[\"a\" /* completionNotifier */])(),\n        Object(loader[\"a\" /* loader */])()\n    ], CustomerPage.prototype, \"updateProfile\", null);\n    return CustomerPage;\n})();\n\n// CONCATENATED MODULE: ./src/app/pages/auth/profile/customer/customer-routing.module.ts\n\n\n\n\nconst routes = [\n    {\n        path: '',\n        component: customer_page_CustomerPage\n    }\n];\nlet customer_routing_module_CustomerPageRoutingModule = /*@__PURE__*/ (() => {\n    class CustomerPageRoutingModule {\n    }\n    CustomerPageRoutingModule.ɵfac = function CustomerPageRoutingModule_Factory(t) { return new (t || CustomerPageRoutingModule)(); };\n    CustomerPageRoutingModule.ɵmod = core[\"Lb\" /* ɵɵdefineNgModule */]({ type: CustomerPageRoutingModule });\n    CustomerPageRoutingModule.ɵinj = core[\"Kb\" /* ɵɵdefineInjector */]({ imports: [[fesm2015_router[\"j\" /* RouterModule */].forChild(routes)], fesm2015_router[\"j\" /* RouterModule */]] });\n    return CustomerPageRoutingModule;\n})();\n\n// EXTERNAL MODULE: ./src/app/shared/shared.module.ts + 5 modules\nvar shared_module = __webpack_require__(\"PCNd\");\n\n// CONCATENATED MODULE: ./src/app/pages/auth/profile/customer/customer.module.ts\n\n\n\nlet customer_module_CustomerPageModule = /*@__PURE__*/ (() => {\n    class CustomerPageModule {\n    }\n    CustomerPageModule.ɵfac = function CustomerPageModule_Factory(t) { return new (t || CustomerPageModule)(); };\n    CustomerPageModule.ɵmod = core[\"Lb\" /* ɵɵdefineNgModule */]({ type: CustomerPageModule });\n    CustomerPageModule.ɵinj = core[\"Kb\" /* ɵɵdefineInjector */]({ imports: [[\n                shared_module[\"a\" /* SharedModule */],\n                customer_routing_module_CustomerPageRoutingModule\n            ]] });\n    return CustomerPageModule;\n})();\n\n\n/***/ }),\n\n/***/ \"T0Tu\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"a\", function() { return LocationsFacadeService; });\n/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(\"mrSG\");\n/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(\"fXoL\");\n/* harmony import */ var src_api_services__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(\"7jUV\");\n/* harmony import */ var src_app_shared_services_auth_service__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(\"IYfF\");\n\n\n\n\nlet LocationsFacadeService = /*@__PURE__*/ (() => {\n    class LocationsFacadeService {\n        constructor(locationService, authService) {\n            this.locationService = locationService;\n            this.authService = authService;\n        }\n        getLocations() {\n            return Object(tslib__WEBPACK_IMPORTED_MODULE_0__[/* __awaiter */ \"a\"])(this, void 0, void 0, function* () {\n                return yield (yield this.locationService.locationsList()).toPromise();\n            });\n        }\n        getLocation(id) {\n            return Object(tslib__WEBPACK_IMPORTED_MODULE_0__[/* __awaiter */ \"a\"])(this, void 0, void 0, function* () {\n                return yield (yield this.locationService.locationsRetrieve({\n                    id\n                })).toPromise();\n            });\n        }\n        addLocation(location) {\n            return Object(tslib__WEBPACK_IMPORTED_MODULE_0__[/* __awaiter */ \"a\"])(this, void 0, void 0, function* () {\n                const company = yield (yield this.authService.getUserInfo()).company;\n                location.company = company;\n                return yield (yield this.locationService.locationsCreate$Json({\n                    body: location\n                })).toPromise();\n            });\n        }\n        updateLocation(location) {\n            return Object(tslib__WEBPACK_IMPORTED_MODULE_0__[/* __awaiter */ \"a\"])(this, void 0, void 0, function* () {\n                return yield (yield this.locationService.locationsPartialUpdate$Json({\n                    id: location.id,\n                    body: location\n                })).toPromise();\n            });\n        }\n        deleteLocation(location) {\n            return Object(tslib__WEBPACK_IMPORTED_MODULE_0__[/* __awaiter */ \"a\"])(this, void 0, void 0, function* () {\n                return yield (yield this.locationService.locationsDestroy({\n                    id: location.id\n                })).toPromise();\n            });\n        }\n    }\n    LocationsFacadeService.ɵfac = function LocationsFacadeService_Factory(t) { return new (t || LocationsFacadeService)(_angular_core__WEBPACK_IMPORTED_MODULE_1__[/* ɵɵinject */ \"Xb\"](src_api_services__WEBPACK_IMPORTED_MODULE_2__[/* LocationsService */ \"e\"]), _angular_core__WEBPACK_IMPORTED_MODULE_1__[/* ɵɵinject */ \"Xb\"](src_app_shared_services_auth_service__WEBPACK_IMPORTED_MODULE_3__[/* AuthService */ \"a\"])); };\n    LocationsFacadeService.ɵprov = _angular_core__WEBPACK_IMPORTED_MODULE_1__[/* ɵɵdefineInjectable */ \"Jb\"]({ token: LocationsFacadeService, factory: LocationsFacadeService.ɵfac, providedIn: 'root' });\n    return LocationsFacadeService;\n})();\n\n\n/***/ }),\n\n/***/ \"W4DG\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"a\", function() { return loader; });\n/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(\"mrSG\");\n/* harmony import */ var _ionic_angular__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(\"TEn/\");\n\n\nfunction loader() {\n    return (target, propertyKey, descriptor) => {\n        const originalMethod = descriptor.value;\n        descriptor.value = function (...args) {\n            return Object(tslib__WEBPACK_IMPORTED_MODULE_0__[/* __awaiter */ \"a\"])(this, void 0, void 0, function* () {\n                let result;\n                const loadingController = new _ionic_angular__WEBPACK_IMPORTED_MODULE_1__[/* LoadingController */ \"R\"]();\n                const loading = yield loadingController.create();\n                yield loading.present();\n                try {\n                    result = yield originalMethod.apply(this, args);\n                }\n                catch (error) {\n                    loading.dismiss();\n                    throw error;\n                }\n                loading.dismiss();\n                return result;\n            });\n        };\n        return descriptor;\n    };\n}\n\n\n/***/ }),\n\n/***/ \"v++7\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n\n// EXPORTS\n__webpack_require__.d(__webpack_exports__, \"a\", function() { return /* binding */ completionNotifier; });\n\n// EXTERNAL MODULE: ./node_modules/tslib/tslib.es6.js\nvar tslib_es6 = __webpack_require__(\"mrSG\");\n\n// EXTERNAL MODULE: ./node_modules/@ionic/angular/__ivy_ngcc__/fesm2015/ionic-angular.js + 6 modules\nvar ionic_angular = __webpack_require__(\"TEn/\");\n\n// EXTERNAL MODULE: ./src/app/shared/services/decorator.service.ts\nvar decorator_service = __webpack_require__(\"1Xxd\");\n\n// EXTERNAL MODULE: ./node_modules/lodash/lodash.js\nvar lodash = __webpack_require__(\"LvDl\");\n\n// EXTERNAL MODULE: ./node_modules/@angular/core/__ivy_ngcc__/fesm2015/core.js\nvar core = __webpack_require__(\"fXoL\");\n\n// CONCATENATED MODULE: ./src/app/shared/services/error-message.service.ts\n\n\n\nlet error_message_service_ErrorMessageService = /*@__PURE__*/ (() => {\n    class ErrorMessageService {\n        static toDisplayMessage(error) {\n            if (error.error) {\n                error = error.error;\n            }\n            const translateService = decorator_service[\"a\" /* DecoratorService */].getService();\n            const messages = Object.entries(error).map(([field, val]) => {\n                const name = lodash[\"startCase\"](lodash[\"camelCase\"](field));\n                if (lodash[\"isPlainObject\"](val)) {\n                    return this.toDisplayMessage(val);\n                }\n                if (lodash[\"isArray\"](val)) {\n                    return `${translateService.instant(name)}: ${val.join(', ')}`;\n                }\n                return `${translateService.instant(name)}: ${val}`;\n            });\n            return messages.join('\\n');\n        }\n    }\n    ErrorMessageService.ɵfac = function ErrorMessageService_Factory(t) { return new (t || ErrorMessageService)(); };\n    ErrorMessageService.ɵprov = core[\"Jb\" /* ɵɵdefineInjectable */]({ token: ErrorMessageService, factory: ErrorMessageService.ɵfac, providedIn: 'root' });\n    return ErrorMessageService;\n})();\n\n// CONCATENATED MODULE: ./src/app/shared/decorators/completion-notifier.ts\n\n\n\n\nfunction completionNotifier(onCompletionMessage = 'Success!', enableToast = true, errorMessage = null) {\n    return (target, propertyKey, descriptor) => {\n        const originalMethod = descriptor.value;\n        descriptor.value = function (...args) {\n            return Object(tslib_es6[\"a\" /* __awaiter */])(this, void 0, void 0, function* () {\n                const toastController = new ionic_angular[\"Z\" /* ToastController */]();\n                const translateService = decorator_service[\"a\" /* DecoratorService */].getService();\n                if (errorMessage) {\n                    errorMessage = translateService.instant(errorMessage);\n                }\n                let toast;\n                let result;\n                try {\n                    result = yield originalMethod.apply(this, args);\n                    if (enableToast) {\n                        toast = yield toastController.create({\n                            message: translateService.instant(onCompletionMessage),\n                            duration: 2000,\n                            position: 'bottom',\n                            color: 'success'\n                        });\n                        toast.present();\n                    }\n                }\n                catch (error) {\n                    toast = yield toastController.create({\n                        header: translateService.instant('Error!'),\n                        message: errorMessage || error_message_service_ErrorMessageService.toDisplayMessage(error),\n                        duration: 20000,\n                        position: 'middle',\n                        color: 'primary',\n                        cssClass: 'error-toast',\n                        buttons: [{\n                                text: translateService.instant('OK'),\n                                role: 'cancel'\n                            }]\n                    });\n                    toast.present();\n                    const element = document.querySelector('.error-toast');\n                    element.shadowRoot.querySelector('.toast-header').setAttribute('style', 'font-weight: bold; font-size: 1.4em');\n                    element.shadowRoot.querySelector('.toast-button-inner').setAttribute('style', 'font-weight: bold');\n                }\n                return result;\n            });\n        };\n        return descriptor;\n    };\n}\n\n\n/***/ })\n\n}]);","inputSourceMap":null}