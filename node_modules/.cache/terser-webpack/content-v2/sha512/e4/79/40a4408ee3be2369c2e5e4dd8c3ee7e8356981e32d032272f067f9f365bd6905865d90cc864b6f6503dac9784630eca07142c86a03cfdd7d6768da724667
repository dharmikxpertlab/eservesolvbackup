{"code":"(window.webpackJsonp=window.webpackJsonp||[]).push([[10],{T0Tu:function(t,e,i){\"use strict\";i.d(e,\"a\",function(){return r});var n=i(\"mrSG\"),a=i(\"fXoL\"),o=i(\"7jUV\"),c=i(\"IYfF\");let r=(()=>{class t{constructor(t,e){this.locationService=t,this.authService=e}getLocations(){return Object(n.a)(this,void 0,void 0,function*(){return yield(yield this.locationService.locationsList()).toPromise()})}getLocation(t){return Object(n.a)(this,void 0,void 0,function*(){return yield(yield this.locationService.locationsRetrieve({id:t})).toPromise()})}addLocation(t){return Object(n.a)(this,void 0,void 0,function*(){const e=yield(yield this.authService.getUserInfo()).company;return t.company=e,yield(yield this.locationService.locationsCreate$Json({body:t})).toPromise()})}updateLocation(t){return Object(n.a)(this,void 0,void 0,function*(){return yield(yield this.locationService.locationsPartialUpdate$Json({id:t.id,body:t})).toPromise()})}deleteLocation(t){return Object(n.a)(this,void 0,void 0,function*(){return yield(yield this.locationService.locationsDestroy({id:t.id})).toPromise()})}}return t.\\u0275fac=function(e){return new(e||t)(a.Xb(o.e),a.Xb(c.a))},t.\\u0275prov=a.Jb({token:t,factory:t.\\u0275fac,providedIn:\"root\"}),t})()},\"U+pL\":function(t,e,i){\"use strict\";i.r(e),i.d(e,\"MachineEditPageModule\",function(){return T});var n=i(\"tyNb\"),a=i(\"mrSG\"),o=i(\"3Pt+\"),c=i(\"v++7\"),r=i(\"rX50\"),s=i(\"W4DG\"),l=i(\"fXoL\"),d=i(\"T0Tu\"),u=i(\"c8Zb\"),b=i(\"TEn/\"),m=i(\"ofXK\"),h=i(\"kmnG\"),p=i(\"qFsG\"),f=i(\"4Y7C\"),v=i(\"qO5g\"),y=i(\"sYmb\");function g(t,e){if(1&t&&(l.Tb(0,\"app-primary-header\",10),l.fc(1,\"translate\"),l.Ob(2,\"ion-back-button\",11),l.Sb()),2&t){const t=l.ec();l.lc(\"title\",l.gc(1,2,\"Machine Management\")),l.Cb(2),l.lc(\"defaultHref\",\"/locations/\"+t.location.id+\"/edit\")}}function S(t,e){if(1&t&&(l.Tb(0,\"app-primary-header\",10),l.Ob(1,\"ion-back-button\",11),l.Sb()),2&t){const t=l.ec();l.lc(\"title\",t.machine.manufacturer),l.Cb(1),l.lc(\"defaultHref\",\"/locations/\"+t.location.id+\"/edit\")}}function O(t,e){if(1&t){const t=l.Ub();l.Tb(0,\"ion-button\",12),l.bc(\"click\",function(){l.tc(t);const e=l.ec();return e.deleteMachine(e.machine)}),l.Bc(1),l.fc(2,\"translate\"),l.Sb()}2&t&&(l.Cb(1),l.Cc(l.gc(2,1,\"Delete\")))}const C=[{path:\"\",component:(()=>{class t{constructor(t,e,i,n){this.activatedRoute=t,this.locationFacadeService=e,this.machineFacadeService=i,this.router=n,this.machineForm=new o.h({id:new o.e(null),location:new o.e(null),manufacturer:new o.e(\"\"),type:new o.e(\"\"),serial_number:new o.e(\"\"),remark:new o.e(\"\")})}ngOnInit(){return Object(a.a)(this,void 0,void 0,function*(){const t=this.activatedRoute.snapshot.params;t.location&&(this.location=yield this.locationFacadeService.getLocation(+t.location),this.machineForm.patchValue({location:this.location.id})),t.machine&&(this.machine=yield this.machineFacadeService.getMachine(+t.machine),this.machineForm.patchValue(Object.assign({},this.machine)))})}addOrUpdate(){return Object(a.a)(this,void 0,void 0,function*(){this.machine&&this.machine.id?yield this.updateMachine():yield this.addMachine()})}addMachine(){return Object(a.a)(this,void 0,void 0,function*(){this.machine=yield this.machineFacadeService.addMachine(this.machineForm.value)})}updateMachine(){return Object(a.a)(this,void 0,void 0,function*(){this.machine=yield this.machineFacadeService.updateMachine(this.machineForm.value)})}deleteMachine(t){return Object(a.a)(this,void 0,void 0,function*(){yield this.machineFacadeService.deleteMachine(this.machine),yield this.router.navigate([\"/locations\",this.location.id,\"machines\"])})}}return t.\\u0275fac=function(e){return new(e||t)(l.Nb(n.a),l.Nb(d.a),l.Nb(u.a),l.Nb(n.g))},t.\\u0275cmp=l.Hb({type:t,selectors:[[\"app-machine-edit\"]],decls:27,vars:16,consts:[[3,\"title\",4,\"ngIf\"],[1,\"ion-padding\",3,\"formGroup\",\"ngSubmit\"],[\"appearance\",\"outline\",\"color\",\"primary\"],[\"matInput\",\"\",\"formControlName\",\"manufacturer\"],[\"appearance\",\"outline\"],[\"type\",\"text\",\"matInput\",\"\",\"formControlName\",\"type\"],[\"type\",\"text\",\"matInput\",\"\",\"formControlName\",\"serial_number\"],[\"type\",\"text\",\"matInput\",\"\",\"formControlName\",\"remark\"],[3,\"saveButtonClick\"],[\"expand\",\"block\",\"mode\",\"md\",\"class\",\"ion-margin-top ion-margin-bottom\",3,\"click\",4,\"ngIf\"],[3,\"title\"],[3,\"defaultHref\"],[\"expand\",\"block\",\"mode\",\"md\",1,\"ion-margin-top\",\"ion-margin-bottom\",3,\"click\"]],template:function(t,e){1&t&&(l.Tb(0,\"ion-header\"),l.zc(1,g,3,4,\"app-primary-header\",0),l.zc(2,S,2,2,\"app-primary-header\",0),l.Sb(),l.Tb(3,\"ion-content\"),l.Tb(4,\"form\",1),l.bc(\"ngSubmit\",function(){return e.addOrUpdate()}),l.Tb(5,\"mat-form-field\",2),l.Tb(6,\"mat-label\"),l.Bc(7),l.fc(8,\"translate\"),l.Sb(),l.Ob(9,\"input\",3),l.Sb(),l.Tb(10,\"mat-form-field\",4),l.Tb(11,\"mat-label\"),l.Bc(12),l.fc(13,\"translate\"),l.Sb(),l.Ob(14,\"input\",5),l.Sb(),l.Tb(15,\"mat-form-field\",4),l.Tb(16,\"mat-label\"),l.Bc(17),l.fc(18,\"translate\"),l.Sb(),l.Ob(19,\"input\",6),l.Sb(),l.Tb(20,\"mat-form-field\",4),l.Tb(21,\"mat-label\"),l.Bc(22),l.fc(23,\"translate\"),l.Sb(),l.Ob(24,\"input\",7),l.Sb(),l.Tb(25,\"app-form-footer\",8),l.bc(\"saveButtonClick\",function(){return e.addOrUpdate()}),l.Sb(),l.zc(26,O,3,3,\"ion-button\",9),l.Sb(),l.Sb()),2&t&&(l.Cb(1),l.lc(\"ngIf\",e.location&&!e.machine),l.Cb(1),l.lc(\"ngIf\",e.location&&e.machine),l.Cb(2),l.lc(\"formGroup\",e.machineForm),l.Cb(3),l.Cc(l.gc(8,8,\"Manufacturer\")),l.Cb(5),l.Cc(l.gc(13,10,\"Type\")),l.Cb(5),l.Cc(l.gc(18,12,\"Serial number\")),l.Cb(5),l.Cc(l.gc(23,14,\"Remarks\")),l.Cb(4),l.lc(\"ngIf\",e.machine))},directives:[b.s,m.m,b.p,o.y,o.q,o.i,h.b,h.e,p.b,o.c,o.p,o.g,f.a,v.a,b.f,b.g,b.i],pipes:[y.c],styles:[\"\"]}),Object(a.b)([Object(s.a)(),Object(c.a)()],t.prototype,\"addOrUpdate\",null),Object(a.b)([Object(r.a)(\"Deleting Machine\"),Object(s.a)(),Object(c.a)(\"\",!0,\"Cannot delete this machine because it is being used by an Order\")],t.prototype,\"deleteMachine\",null),t})()}];let j=(()=>{class t{}return t.\\u0275fac=function(e){return new(e||t)},t.\\u0275mod=l.Lb({type:t}),t.\\u0275inj=l.Kb({imports:[[n.j.forChild(C)],n.j]}),t})();var w=i(\"PCNd\");let T=(()=>{class t{}return t.\\u0275fac=function(e){return new(e||t)},t.\\u0275mod=l.Lb({type:t}),t.\\u0275inj=l.Kb({imports:[[w.a,j]]}),t})()},W4DG:function(t,e,i){\"use strict\";i.d(e,\"a\",function(){return o});var n=i(\"mrSG\"),a=i(\"TEn/\");function o(){return(t,e,i)=>{const o=i.value;return i.value=function(...t){return Object(n.a)(this,void 0,void 0,function*(){let e;const i=new a.R,n=yield i.create();yield n.present();try{e=yield o.apply(this,t)}catch(c){throw n.dismiss(),c}return n.dismiss(),e})},i}}},\"v++7\":function(t,e,i){\"use strict\";i.d(e,\"a\",function(){return l});var n=i(\"mrSG\"),a=i(\"TEn/\"),o=i(\"1Xxd\"),c=i(\"LvDl\"),r=i(\"fXoL\");let s=(()=>{class t{static toDisplayMessage(t){t.error&&(t=t.error);const e=o.a.getService();return Object.entries(t).map(([t,i])=>{const n=c.startCase(c.camelCase(t));return c.isPlainObject(i)?this.toDisplayMessage(i):c.isArray(i)?`${e.instant(n)}: ${i.join(\", \")}`:`${e.instant(n)}: ${i}`}).join(\"\\n\")}}return t.\\u0275fac=function(e){return new(e||t)},t.\\u0275prov=r.Jb({token:t,factory:t.\\u0275fac,providedIn:\"root\"}),t})();function l(t=\"Success!\",e=!0,i=null){return(c,r,l)=>{const d=l.value;return l.value=function(...c){return Object(n.a)(this,void 0,void 0,function*(){const n=new a.Z,r=o.a.getService();let l,u;i&&(i=r.instant(i));try{u=yield d.apply(this,c),e&&(l=yield n.create({message:r.instant(t),duration:2e3,position:\"bottom\",color:\"success\"}),l.present())}catch(b){l=yield n.create({header:r.instant(\"Error!\"),message:i||s.toDisplayMessage(b),duration:2e4,position:\"middle\",color:\"primary\",cssClass:\"error-toast\",buttons:[{text:r.instant(\"OK\"),role:\"cancel\"}]}),l.present();const t=document.querySelector(\".error-toast\");t.shadowRoot.querySelector(\".toast-header\").setAttribute(\"style\",\"font-weight: bold; font-size: 1.4em\"),t.shadowRoot.querySelector(\".toast-button-inner\").setAttribute(\"style\",\"font-weight: bold\")}return u})},l}}}}]);","name":"10.js","input":"(window[\"webpackJsonp\"] = window[\"webpackJsonp\"] || []).push([[10],{\n\n/***/ \"T0Tu\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"a\", function() { return LocationsFacadeService; });\n/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(\"mrSG\");\n/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(\"fXoL\");\n/* harmony import */ var src_api_services__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(\"7jUV\");\n/* harmony import */ var src_app_shared_services_auth_service__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(\"IYfF\");\n\n\n\n\nlet LocationsFacadeService = /*@__PURE__*/ (() => {\n    class LocationsFacadeService {\n        constructor(locationService, authService) {\n            this.locationService = locationService;\n            this.authService = authService;\n        }\n        getLocations() {\n            return Object(tslib__WEBPACK_IMPORTED_MODULE_0__[/* __awaiter */ \"a\"])(this, void 0, void 0, function* () {\n                return yield (yield this.locationService.locationsList()).toPromise();\n            });\n        }\n        getLocation(id) {\n            return Object(tslib__WEBPACK_IMPORTED_MODULE_0__[/* __awaiter */ \"a\"])(this, void 0, void 0, function* () {\n                return yield (yield this.locationService.locationsRetrieve({\n                    id\n                })).toPromise();\n            });\n        }\n        addLocation(location) {\n            return Object(tslib__WEBPACK_IMPORTED_MODULE_0__[/* __awaiter */ \"a\"])(this, void 0, void 0, function* () {\n                const company = yield (yield this.authService.getUserInfo()).company;\n                location.company = company;\n                return yield (yield this.locationService.locationsCreate$Json({\n                    body: location\n                })).toPromise();\n            });\n        }\n        updateLocation(location) {\n            return Object(tslib__WEBPACK_IMPORTED_MODULE_0__[/* __awaiter */ \"a\"])(this, void 0, void 0, function* () {\n                return yield (yield this.locationService.locationsPartialUpdate$Json({\n                    id: location.id,\n                    body: location\n                })).toPromise();\n            });\n        }\n        deleteLocation(location) {\n            return Object(tslib__WEBPACK_IMPORTED_MODULE_0__[/* __awaiter */ \"a\"])(this, void 0, void 0, function* () {\n                return yield (yield this.locationService.locationsDestroy({\n                    id: location.id\n                })).toPromise();\n            });\n        }\n    }\n    LocationsFacadeService.ɵfac = function LocationsFacadeService_Factory(t) { return new (t || LocationsFacadeService)(_angular_core__WEBPACK_IMPORTED_MODULE_1__[/* ɵɵinject */ \"Xb\"](src_api_services__WEBPACK_IMPORTED_MODULE_2__[/* LocationsService */ \"e\"]), _angular_core__WEBPACK_IMPORTED_MODULE_1__[/* ɵɵinject */ \"Xb\"](src_app_shared_services_auth_service__WEBPACK_IMPORTED_MODULE_3__[/* AuthService */ \"a\"])); };\n    LocationsFacadeService.ɵprov = _angular_core__WEBPACK_IMPORTED_MODULE_1__[/* ɵɵdefineInjectable */ \"Jb\"]({ token: LocationsFacadeService, factory: LocationsFacadeService.ɵfac, providedIn: 'root' });\n    return LocationsFacadeService;\n})();\n\n\n/***/ }),\n\n/***/ \"U+pL\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n// ESM COMPAT FLAG\n__webpack_require__.r(__webpack_exports__);\n\n// EXPORTS\n__webpack_require__.d(__webpack_exports__, \"MachineEditPageModule\", function() { return /* binding */ machine_edit_module_MachineEditPageModule; });\n\n// EXTERNAL MODULE: ./node_modules/@angular/router/__ivy_ngcc__/fesm2015/router.js + 7 modules\nvar fesm2015_router = __webpack_require__(\"tyNb\");\n\n// EXTERNAL MODULE: ./node_modules/tslib/tslib.es6.js\nvar tslib_es6 = __webpack_require__(\"mrSG\");\n\n// EXTERNAL MODULE: ./node_modules/@angular/forms/__ivy_ngcc__/fesm2015/forms.js\nvar fesm2015_forms = __webpack_require__(\"3Pt+\");\n\n// EXTERNAL MODULE: ./src/app/shared/decorators/completion-notifier.ts + 1 modules\nvar completion_notifier = __webpack_require__(\"v++7\");\n\n// EXTERNAL MODULE: ./src/app/shared/decorators/confirm-operation.ts\nvar confirm_operation = __webpack_require__(\"rX50\");\n\n// EXTERNAL MODULE: ./src/app/shared/decorators/loader.ts\nvar loader = __webpack_require__(\"W4DG\");\n\n// EXTERNAL MODULE: ./node_modules/@angular/core/__ivy_ngcc__/fesm2015/core.js\nvar core = __webpack_require__(\"fXoL\");\n\n// EXTERNAL MODULE: ./src/app/pages/locations/locations-facade.service.ts\nvar locations_facade_service = __webpack_require__(\"T0Tu\");\n\n// EXTERNAL MODULE: ./src/app/pages/machines/machines-facade.service.ts\nvar machines_facade_service = __webpack_require__(\"c8Zb\");\n\n// EXTERNAL MODULE: ./node_modules/@ionic/angular/__ivy_ngcc__/fesm2015/ionic-angular.js + 6 modules\nvar ionic_angular = __webpack_require__(\"TEn/\");\n\n// EXTERNAL MODULE: ./node_modules/@angular/common/__ivy_ngcc__/fesm2015/common.js\nvar common = __webpack_require__(\"ofXK\");\n\n// EXTERNAL MODULE: ./node_modules/@angular/material/__ivy_ngcc__/fesm2015/form-field.js\nvar form_field = __webpack_require__(\"kmnG\");\n\n// EXTERNAL MODULE: ./node_modules/@angular/material/__ivy_ngcc__/fesm2015/input.js + 1 modules\nvar input = __webpack_require__(\"qFsG\");\n\n// EXTERNAL MODULE: ./src/app/shared/components/footer/form-footer/form-footer.component.ts\nvar form_footer_component = __webpack_require__(\"4Y7C\");\n\n// EXTERNAL MODULE: ./src/app/shared/components/header/primary-header/primary-header.component.ts\nvar primary_header_component = __webpack_require__(\"qO5g\");\n\n// EXTERNAL MODULE: ./node_modules/@ngx-translate/core/__ivy_ngcc__/fesm2015/ngx-translate-core.js\nvar ngx_translate_core = __webpack_require__(\"sYmb\");\n\n// CONCATENATED MODULE: ./src/app/pages/machines/machine-edit/machine-edit.page.ts\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nfunction MachineEditPage_app_primary_header_1_Template(rf, ctx) {\n    if (rf & 1) {\n        core[\"Tb\" /* ɵɵelementStart */](0, \"app-primary-header\", 10);\n        core[\"fc\" /* ɵɵpipe */](1, \"translate\");\n        core[\"Ob\" /* ɵɵelement */](2, \"ion-back-button\", 11);\n        core[\"Sb\" /* ɵɵelementEnd */]();\n    }\n    if (rf & 2) {\n        const ctx_r0 = core[\"ec\" /* ɵɵnextContext */]();\n        core[\"lc\" /* ɵɵproperty */](\"title\", core[\"gc\" /* ɵɵpipeBind1 */](1, 2, \"Machine Management\"));\n        core[\"Cb\" /* ɵɵadvance */](2);\n        core[\"lc\" /* ɵɵproperty */](\"defaultHref\", \"/locations/\" + ctx_r0.location.id + \"/edit\");\n    }\n}\nfunction MachineEditPage_app_primary_header_2_Template(rf, ctx) {\n    if (rf & 1) {\n        core[\"Tb\" /* ɵɵelementStart */](0, \"app-primary-header\", 10);\n        core[\"Ob\" /* ɵɵelement */](1, \"ion-back-button\", 11);\n        core[\"Sb\" /* ɵɵelementEnd */]();\n    }\n    if (rf & 2) {\n        const ctx_r1 = core[\"ec\" /* ɵɵnextContext */]();\n        core[\"lc\" /* ɵɵproperty */](\"title\", ctx_r1.machine.manufacturer);\n        core[\"Cb\" /* ɵɵadvance */](1);\n        core[\"lc\" /* ɵɵproperty */](\"defaultHref\", \"/locations/\" + ctx_r1.location.id + \"/edit\");\n    }\n}\nfunction MachineEditPage_ion_button_26_Template(rf, ctx) {\n    if (rf & 1) {\n        const _r4 = core[\"Ub\" /* ɵɵgetCurrentView */]();\n        core[\"Tb\" /* ɵɵelementStart */](0, \"ion-button\", 12);\n        core[\"bc\" /* ɵɵlistener */](\"click\", function MachineEditPage_ion_button_26_Template_ion_button_click_0_listener() { core[\"tc\" /* ɵɵrestoreView */](_r4); const ctx_r3 = core[\"ec\" /* ɵɵnextContext */](); return ctx_r3.deleteMachine(ctx_r3.machine); });\n        core[\"Bc\" /* ɵɵtext */](1);\n        core[\"fc\" /* ɵɵpipe */](2, \"translate\");\n        core[\"Sb\" /* ɵɵelementEnd */]();\n    }\n    if (rf & 2) {\n        core[\"Cb\" /* ɵɵadvance */](1);\n        core[\"Cc\" /* ɵɵtextInterpolate */](core[\"gc\" /* ɵɵpipeBind1 */](2, 1, \"Delete\"));\n    }\n}\nlet machine_edit_page_MachineEditPage = /*@__PURE__*/ (() => {\n    class MachineEditPage {\n        constructor(activatedRoute, locationFacadeService, machineFacadeService, router) {\n            this.activatedRoute = activatedRoute;\n            this.locationFacadeService = locationFacadeService;\n            this.machineFacadeService = machineFacadeService;\n            this.router = router;\n            this.machineForm = new fesm2015_forms[\"h\" /* FormGroup */]({\n                id: new fesm2015_forms[\"e\" /* FormControl */](null),\n                location: new fesm2015_forms[\"e\" /* FormControl */](null),\n                manufacturer: new fesm2015_forms[\"e\" /* FormControl */](''),\n                type: new fesm2015_forms[\"e\" /* FormControl */](''),\n                serial_number: new fesm2015_forms[\"e\" /* FormControl */](''),\n                remark: new fesm2015_forms[\"e\" /* FormControl */]('')\n            });\n        }\n        ngOnInit() {\n            return Object(tslib_es6[\"a\" /* __awaiter */])(this, void 0, void 0, function* () {\n                const snapshotParams = this.activatedRoute.snapshot.params;\n                if (snapshotParams.location) {\n                    this.location = yield this.locationFacadeService.getLocation(+snapshotParams.location);\n                    this.machineForm.patchValue({\n                        location: this.location.id\n                    });\n                }\n                if (snapshotParams.machine) {\n                    this.machine = yield this.machineFacadeService.getMachine(+snapshotParams.machine);\n                    this.machineForm.patchValue(Object.assign({}, this.machine));\n                }\n            });\n        }\n        addOrUpdate() {\n            return Object(tslib_es6[\"a\" /* __awaiter */])(this, void 0, void 0, function* () {\n                if (this.machine && this.machine.id) {\n                    yield this.updateMachine();\n                }\n                else {\n                    yield this.addMachine();\n                }\n            });\n        }\n        addMachine() {\n            return Object(tslib_es6[\"a\" /* __awaiter */])(this, void 0, void 0, function* () {\n                this.machine = yield this.machineFacadeService.addMachine(this.machineForm.value);\n            });\n        }\n        updateMachine() {\n            return Object(tslib_es6[\"a\" /* __awaiter */])(this, void 0, void 0, function* () {\n                this.machine = yield this.machineFacadeService.updateMachine(this.machineForm.value);\n            });\n        }\n        deleteMachine(machine) {\n            return Object(tslib_es6[\"a\" /* __awaiter */])(this, void 0, void 0, function* () {\n                yield this.machineFacadeService.deleteMachine(this.machine);\n                yield this.router.navigate(['/locations', this.location.id, 'machines']);\n            });\n        }\n    }\n    MachineEditPage.ɵfac = function MachineEditPage_Factory(t) { return new (t || MachineEditPage)(core[\"Nb\" /* ɵɵdirectiveInject */](fesm2015_router[\"a\" /* ActivatedRoute */]), core[\"Nb\" /* ɵɵdirectiveInject */](locations_facade_service[\"a\" /* LocationsFacadeService */]), core[\"Nb\" /* ɵɵdirectiveInject */](machines_facade_service[\"a\" /* MachinesFacadeService */]), core[\"Nb\" /* ɵɵdirectiveInject */](fesm2015_router[\"g\" /* Router */])); };\n    MachineEditPage.ɵcmp = core[\"Hb\" /* ɵɵdefineComponent */]({ type: MachineEditPage, selectors: [[\"app-machine-edit\"]], decls: 27, vars: 16, consts: [[3, \"title\", 4, \"ngIf\"], [1, \"ion-padding\", 3, \"formGroup\", \"ngSubmit\"], [\"appearance\", \"outline\", \"color\", \"primary\"], [\"matInput\", \"\", \"formControlName\", \"manufacturer\"], [\"appearance\", \"outline\"], [\"type\", \"text\", \"matInput\", \"\", \"formControlName\", \"type\"], [\"type\", \"text\", \"matInput\", \"\", \"formControlName\", \"serial_number\"], [\"type\", \"text\", \"matInput\", \"\", \"formControlName\", \"remark\"], [3, \"saveButtonClick\"], [\"expand\", \"block\", \"mode\", \"md\", \"class\", \"ion-margin-top ion-margin-bottom\", 3, \"click\", 4, \"ngIf\"], [3, \"title\"], [3, \"defaultHref\"], [\"expand\", \"block\", \"mode\", \"md\", 1, \"ion-margin-top\", \"ion-margin-bottom\", 3, \"click\"]], template: function MachineEditPage_Template(rf, ctx) {\n            if (rf & 1) {\n                core[\"Tb\" /* ɵɵelementStart */](0, \"ion-header\");\n                core[\"zc\" /* ɵɵtemplate */](1, MachineEditPage_app_primary_header_1_Template, 3, 4, \"app-primary-header\", 0);\n                core[\"zc\" /* ɵɵtemplate */](2, MachineEditPage_app_primary_header_2_Template, 2, 2, \"app-primary-header\", 0);\n                core[\"Sb\" /* ɵɵelementEnd */]();\n                core[\"Tb\" /* ɵɵelementStart */](3, \"ion-content\");\n                core[\"Tb\" /* ɵɵelementStart */](4, \"form\", 1);\n                core[\"bc\" /* ɵɵlistener */](\"ngSubmit\", function MachineEditPage_Template_form_ngSubmit_4_listener() { return ctx.addOrUpdate(); });\n                core[\"Tb\" /* ɵɵelementStart */](5, \"mat-form-field\", 2);\n                core[\"Tb\" /* ɵɵelementStart */](6, \"mat-label\");\n                core[\"Bc\" /* ɵɵtext */](7);\n                core[\"fc\" /* ɵɵpipe */](8, \"translate\");\n                core[\"Sb\" /* ɵɵelementEnd */]();\n                core[\"Ob\" /* ɵɵelement */](9, \"input\", 3);\n                core[\"Sb\" /* ɵɵelementEnd */]();\n                core[\"Tb\" /* ɵɵelementStart */](10, \"mat-form-field\", 4);\n                core[\"Tb\" /* ɵɵelementStart */](11, \"mat-label\");\n                core[\"Bc\" /* ɵɵtext */](12);\n                core[\"fc\" /* ɵɵpipe */](13, \"translate\");\n                core[\"Sb\" /* ɵɵelementEnd */]();\n                core[\"Ob\" /* ɵɵelement */](14, \"input\", 5);\n                core[\"Sb\" /* ɵɵelementEnd */]();\n                core[\"Tb\" /* ɵɵelementStart */](15, \"mat-form-field\", 4);\n                core[\"Tb\" /* ɵɵelementStart */](16, \"mat-label\");\n                core[\"Bc\" /* ɵɵtext */](17);\n                core[\"fc\" /* ɵɵpipe */](18, \"translate\");\n                core[\"Sb\" /* ɵɵelementEnd */]();\n                core[\"Ob\" /* ɵɵelement */](19, \"input\", 6);\n                core[\"Sb\" /* ɵɵelementEnd */]();\n                core[\"Tb\" /* ɵɵelementStart */](20, \"mat-form-field\", 4);\n                core[\"Tb\" /* ɵɵelementStart */](21, \"mat-label\");\n                core[\"Bc\" /* ɵɵtext */](22);\n                core[\"fc\" /* ɵɵpipe */](23, \"translate\");\n                core[\"Sb\" /* ɵɵelementEnd */]();\n                core[\"Ob\" /* ɵɵelement */](24, \"input\", 7);\n                core[\"Sb\" /* ɵɵelementEnd */]();\n                core[\"Tb\" /* ɵɵelementStart */](25, \"app-form-footer\", 8);\n                core[\"bc\" /* ɵɵlistener */](\"saveButtonClick\", function MachineEditPage_Template_app_form_footer_saveButtonClick_25_listener() { return ctx.addOrUpdate(); });\n                core[\"Sb\" /* ɵɵelementEnd */]();\n                core[\"zc\" /* ɵɵtemplate */](26, MachineEditPage_ion_button_26_Template, 3, 3, \"ion-button\", 9);\n                core[\"Sb\" /* ɵɵelementEnd */]();\n                core[\"Sb\" /* ɵɵelementEnd */]();\n            }\n            if (rf & 2) {\n                core[\"Cb\" /* ɵɵadvance */](1);\n                core[\"lc\" /* ɵɵproperty */](\"ngIf\", ctx.location && !ctx.machine);\n                core[\"Cb\" /* ɵɵadvance */](1);\n                core[\"lc\" /* ɵɵproperty */](\"ngIf\", ctx.location && ctx.machine);\n                core[\"Cb\" /* ɵɵadvance */](2);\n                core[\"lc\" /* ɵɵproperty */](\"formGroup\", ctx.machineForm);\n                core[\"Cb\" /* ɵɵadvance */](3);\n                core[\"Cc\" /* ɵɵtextInterpolate */](core[\"gc\" /* ɵɵpipeBind1 */](8, 8, \"Manufacturer\"));\n                core[\"Cb\" /* ɵɵadvance */](5);\n                core[\"Cc\" /* ɵɵtextInterpolate */](core[\"gc\" /* ɵɵpipeBind1 */](13, 10, \"Type\"));\n                core[\"Cb\" /* ɵɵadvance */](5);\n                core[\"Cc\" /* ɵɵtextInterpolate */](core[\"gc\" /* ɵɵpipeBind1 */](18, 12, \"Serial number\"));\n                core[\"Cb\" /* ɵɵadvance */](5);\n                core[\"Cc\" /* ɵɵtextInterpolate */](core[\"gc\" /* ɵɵpipeBind1 */](23, 14, \"Remarks\"));\n                core[\"Cb\" /* ɵɵadvance */](4);\n                core[\"lc\" /* ɵɵproperty */](\"ngIf\", ctx.machine);\n            }\n        }, directives: [ionic_angular[\"s\" /* IonHeader */], common[\"m\" /* NgIf */], ionic_angular[\"p\" /* IonContent */], fesm2015_forms[\"y\" /* ɵangular_packages_forms_forms_ba */], fesm2015_forms[\"q\" /* NgControlStatusGroup */], fesm2015_forms[\"i\" /* FormGroupDirective */], form_field[\"b\" /* MatFormField */], form_field[\"e\" /* MatLabel */], input[\"b\" /* MatInput */], fesm2015_forms[\"c\" /* DefaultValueAccessor */], fesm2015_forms[\"p\" /* NgControlStatus */], fesm2015_forms[\"g\" /* FormControlName */], form_footer_component[\"a\" /* FormFooterComponent */], primary_header_component[\"a\" /* PrimaryHeaderComponent */], ionic_angular[\"f\" /* IonBackButton */], ionic_angular[\"g\" /* IonBackButtonDelegate */], ionic_angular[\"i\" /* IonButton */]], pipes: [ngx_translate_core[\"c\" /* TranslatePipe */]], styles: [\"\"] });\n    Object(tslib_es6[\"b\" /* __decorate */])([\n        Object(loader[\"a\" /* loader */])(),\n        Object(completion_notifier[\"a\" /* completionNotifier */])()\n    ], MachineEditPage.prototype, \"addOrUpdate\", null);\n    Object(tslib_es6[\"b\" /* __decorate */])([\n        Object(confirm_operation[\"a\" /* confirmOperation */])('Deleting Machine'),\n        Object(loader[\"a\" /* loader */])(),\n        Object(completion_notifier[\"a\" /* completionNotifier */])('', true, 'Cannot delete this machine because it is being used by an Order')\n    ], MachineEditPage.prototype, \"deleteMachine\", null);\n    return MachineEditPage;\n})();\n\n// CONCATENATED MODULE: ./src/app/pages/machines/machine-edit/machine-edit-routing.module.ts\n\n\n\n\nconst routes = [\n    {\n        path: '',\n        component: machine_edit_page_MachineEditPage\n    }\n];\nlet machine_edit_routing_module_MachineEditPageRoutingModule = /*@__PURE__*/ (() => {\n    class MachineEditPageRoutingModule {\n    }\n    MachineEditPageRoutingModule.ɵfac = function MachineEditPageRoutingModule_Factory(t) { return new (t || MachineEditPageRoutingModule)(); };\n    MachineEditPageRoutingModule.ɵmod = core[\"Lb\" /* ɵɵdefineNgModule */]({ type: MachineEditPageRoutingModule });\n    MachineEditPageRoutingModule.ɵinj = core[\"Kb\" /* ɵɵdefineInjector */]({ imports: [[fesm2015_router[\"j\" /* RouterModule */].forChild(routes)], fesm2015_router[\"j\" /* RouterModule */]] });\n    return MachineEditPageRoutingModule;\n})();\n\n// EXTERNAL MODULE: ./src/app/shared/shared.module.ts + 5 modules\nvar shared_module = __webpack_require__(\"PCNd\");\n\n// CONCATENATED MODULE: ./src/app/pages/machines/machine-edit/machine-edit.module.ts\n\n\n\nlet machine_edit_module_MachineEditPageModule = /*@__PURE__*/ (() => {\n    class MachineEditPageModule {\n    }\n    MachineEditPageModule.ɵfac = function MachineEditPageModule_Factory(t) { return new (t || MachineEditPageModule)(); };\n    MachineEditPageModule.ɵmod = core[\"Lb\" /* ɵɵdefineNgModule */]({ type: MachineEditPageModule });\n    MachineEditPageModule.ɵinj = core[\"Kb\" /* ɵɵdefineInjector */]({ imports: [[\n                shared_module[\"a\" /* SharedModule */],\n                machine_edit_routing_module_MachineEditPageRoutingModule\n            ]] });\n    return MachineEditPageModule;\n})();\n\n\n/***/ }),\n\n/***/ \"W4DG\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"a\", function() { return loader; });\n/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(\"mrSG\");\n/* harmony import */ var _ionic_angular__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(\"TEn/\");\n\n\nfunction loader() {\n    return (target, propertyKey, descriptor) => {\n        const originalMethod = descriptor.value;\n        descriptor.value = function (...args) {\n            return Object(tslib__WEBPACK_IMPORTED_MODULE_0__[/* __awaiter */ \"a\"])(this, void 0, void 0, function* () {\n                let result;\n                const loadingController = new _ionic_angular__WEBPACK_IMPORTED_MODULE_1__[/* LoadingController */ \"R\"]();\n                const loading = yield loadingController.create();\n                yield loading.present();\n                try {\n                    result = yield originalMethod.apply(this, args);\n                }\n                catch (error) {\n                    loading.dismiss();\n                    throw error;\n                }\n                loading.dismiss();\n                return result;\n            });\n        };\n        return descriptor;\n    };\n}\n\n\n/***/ }),\n\n/***/ \"v++7\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n\n// EXPORTS\n__webpack_require__.d(__webpack_exports__, \"a\", function() { return /* binding */ completionNotifier; });\n\n// EXTERNAL MODULE: ./node_modules/tslib/tslib.es6.js\nvar tslib_es6 = __webpack_require__(\"mrSG\");\n\n// EXTERNAL MODULE: ./node_modules/@ionic/angular/__ivy_ngcc__/fesm2015/ionic-angular.js + 6 modules\nvar ionic_angular = __webpack_require__(\"TEn/\");\n\n// EXTERNAL MODULE: ./src/app/shared/services/decorator.service.ts\nvar decorator_service = __webpack_require__(\"1Xxd\");\n\n// EXTERNAL MODULE: ./node_modules/lodash/lodash.js\nvar lodash = __webpack_require__(\"LvDl\");\n\n// EXTERNAL MODULE: ./node_modules/@angular/core/__ivy_ngcc__/fesm2015/core.js\nvar core = __webpack_require__(\"fXoL\");\n\n// CONCATENATED MODULE: ./src/app/shared/services/error-message.service.ts\n\n\n\nlet error_message_service_ErrorMessageService = /*@__PURE__*/ (() => {\n    class ErrorMessageService {\n        static toDisplayMessage(error) {\n            if (error.error) {\n                error = error.error;\n            }\n            const translateService = decorator_service[\"a\" /* DecoratorService */].getService();\n            const messages = Object.entries(error).map(([field, val]) => {\n                const name = lodash[\"startCase\"](lodash[\"camelCase\"](field));\n                if (lodash[\"isPlainObject\"](val)) {\n                    return this.toDisplayMessage(val);\n                }\n                if (lodash[\"isArray\"](val)) {\n                    return `${translateService.instant(name)}: ${val.join(', ')}`;\n                }\n                return `${translateService.instant(name)}: ${val}`;\n            });\n            return messages.join('\\n');\n        }\n    }\n    ErrorMessageService.ɵfac = function ErrorMessageService_Factory(t) { return new (t || ErrorMessageService)(); };\n    ErrorMessageService.ɵprov = core[\"Jb\" /* ɵɵdefineInjectable */]({ token: ErrorMessageService, factory: ErrorMessageService.ɵfac, providedIn: 'root' });\n    return ErrorMessageService;\n})();\n\n// CONCATENATED MODULE: ./src/app/shared/decorators/completion-notifier.ts\n\n\n\n\nfunction completionNotifier(onCompletionMessage = 'Success!', enableToast = true, errorMessage = null) {\n    return (target, propertyKey, descriptor) => {\n        const originalMethod = descriptor.value;\n        descriptor.value = function (...args) {\n            return Object(tslib_es6[\"a\" /* __awaiter */])(this, void 0, void 0, function* () {\n                const toastController = new ionic_angular[\"Z\" /* ToastController */]();\n                const translateService = decorator_service[\"a\" /* DecoratorService */].getService();\n                if (errorMessage) {\n                    errorMessage = translateService.instant(errorMessage);\n                }\n                let toast;\n                let result;\n                try {\n                    result = yield originalMethod.apply(this, args);\n                    if (enableToast) {\n                        toast = yield toastController.create({\n                            message: translateService.instant(onCompletionMessage),\n                            duration: 2000,\n                            position: 'bottom',\n                            color: 'success'\n                        });\n                        toast.present();\n                    }\n                }\n                catch (error) {\n                    toast = yield toastController.create({\n                        header: translateService.instant('Error!'),\n                        message: errorMessage || error_message_service_ErrorMessageService.toDisplayMessage(error),\n                        duration: 20000,\n                        position: 'middle',\n                        color: 'primary',\n                        cssClass: 'error-toast',\n                        buttons: [{\n                                text: translateService.instant('OK'),\n                                role: 'cancel'\n                            }]\n                    });\n                    toast.present();\n                    const element = document.querySelector('.error-toast');\n                    element.shadowRoot.querySelector('.toast-header').setAttribute('style', 'font-weight: bold; font-size: 1.4em');\n                    element.shadowRoot.querySelector('.toast-button-inner').setAttribute('style', 'font-weight: bold');\n                }\n                return result;\n            });\n        };\n        return descriptor;\n    };\n}\n\n\n/***/ })\n\n}]);","inputSourceMap":null}