(window.webpackJsonp=window.webpackJsonp||[]).push([[36],{VMVM:function(e,r,n){"use strict";n.d(r,"a",function(){return a});var t=n("mrSG"),i=n("LvDl"),c=n("fXoL"),o=n("7jUV");let a=(()=>{class e{constructor(e){this.credentialService=e}getCredentials(){return Object(t.a)(this,void 0,void 0,function*(){return yield(yield this.credentialService.credentialsRetrieve()).toPromise().then(e=>(e.experience&&(e.experience=i.sortBy(e.experience,"name")),e.certificates&&(e.certificates=i.sortBy(e.certificates,"name")),e.training&&(e.training=i.sortBy(e.training,"name")),e))})}}return e.\u0275fac=function(r){return new(r||e)(c.Xb(o.c))},e.\u0275prov=c.Jb({token:e,factory:e.\u0275fac,providedIn:"root"}),e})()},okrH:function(e,r,n){"use strict";n.r(r),n.d(r,"OrderDetailsPageModule",function(){return H});var t=n("tyNb"),i=n("mrSG"),c=n("roZI"),o=n("3r7Z"),a=n("v++7"),s=n("W4DG"),d=n("fXoL"),b=n("mqor"),l=n("TEn/"),p=n("ofXK"),f=n("qO5g"),u=n("2vfo"),h=n("E0Us"),m=n("Q6/c"),g=n("kfnZ"),C=n("sYmb"),v=n("aEDk");function O(e,r){if(1&e&&(d.Tb(0,"h2"),d.Bc(1),d.fc(2,"wrap"),d.Sb()),2&e){const e=d.ec();d.Cb(1),d.Cc(d.ic(2,1,e.order.applicable_rate,"",e.Currency.amountPerHourSuffix))}}function S(e,r){if(1&e&&(d.Tb(0,"h2"),d.Bc(1),d.fc(2,"wrap"),d.Sb()),2&e){const e=d.ec();d.Cb(1),d.Cc(d.ic(2,1,e.order.finalized_rate,"",e.Currency.amountPerHourSuffix))}}function y(e,r){if(1&e&&(d.Tb(0,"ion-item",5),d.Tb(1,"ion-label",12),d.Bc(2),d.Ob(3,"br"),d.Bc(4),d.Ob(5,"br"),d.Bc(6),d.Sb(),d.Sb()),2&e){const e=d.ec();d.Cb(2),d.Dc(" ",e.company.name," "),d.Cb(2),d.Dc(" ",e.company.address," "),d.Cb(2),d.Ec(" ",e.company.zip_code," ",e.company.city," ")}}let _=(()=>{class e{constructor(e){this.companiesService=e,this.Currency=h.a}ngOnInit(){this.getServiceProviderCompany()}getServiceProviderCompany(){return Object(i.a)(this,void 0,void 0,function*(){this.company=yield this.companiesService.getCompanyById(this.order.service_provider.company)})}}return e.\u0275fac=function(r){return new(r||e)(d.Nb(m.a))},e.\u0275cmp=d.Hb({type:e,selectors:[["app-contact"]],inputs:{order:"order"},decls:27,vars:16,consts:[[1,"ion-no-margin"],["lines","none",1,"ion-no-padding","ion-margin-start"],["slot","start"],[3,"user"],[4,"ngIf"],["lines","none"],[1,"ion-no-margin","ion-margin-bottom"],["lines","none",1,"ion-align-self-center","ion-no-padding"],["slot","start","name","call-outline",1,"icon"],[3,"href"],["slot","start","name","mail-outline",1,"icon"],["lines","none",4,"ngIf"],[1,"company","ion-no-margin"]],template:function(e,r){1&e&&(d.Tb(0,"ion-card",0),d.Tb(1,"ion-item",1),d.Tb(2,"ion-thumbnail",2),d.Ob(3,"app-profile-picture",3),d.Sb(),d.Tb(4,"ion-label"),d.Tb(5,"h2"),d.Bc(6),d.Sb(),d.Tb(7,"p"),d.Bc(8),d.fc(9,"translate"),d.Sb(),d.zc(10,O,3,5,"h2",4),d.zc(11,S,3,5,"h2",4),d.Sb(),d.Sb(),d.Tb(12,"ion-item",5),d.Tb(13,"ion-label",6),d.Tb(14,"ion-item",7),d.Ob(15,"ion-icon",8),d.Tb(16,"a",9),d.Bc(17),d.Sb(),d.Sb(),d.Tb(18,"ion-item",7),d.Ob(19,"ion-icon",10),d.Tb(20,"a",9),d.Bc(21),d.Sb(),d.Sb(),d.Sb(),d.Sb(),d.zc(22,y,7,4,"ion-item",11),d.Tb(23,"ion-item",5),d.Tb(24,"ion-note"),d.Bc(25),d.fc(26,"translate"),d.Sb(),d.Sb(),d.Sb()),2&e&&(d.Cb(3),d.lc("user",r.order.service_provider),d.Cb(3),d.Ec("",r.order.service_provider.first_name," ",r.order.service_provider.last_name,""),d.Cb(2),d.Dc("",d.gc(9,12,"Wage"),"*:"),d.Cb(2),d.lc("ngIf",!r.order.finalized_rate),d.Cb(1),d.lc("ngIf",r.order.finalized_rate),d.Cb(5),d.nc("href","tel:",r.order.service_provider.phone,"",d.uc),d.Cb(1),d.Cc(r.order.service_provider.phone),d.Cb(3),d.nc("href","mailto:",r.order.service_provider.email,"",d.uc),d.Cb(1),d.Cc(r.order.service_provider.email),d.Cb(1),d.lc("ngIf",r.company),d.Cb(3),d.Dc("*",d.gc(26,14,"NOTE_SEARCH_RESULTS"),""))},directives:[l.k,l.v,l.L,g.a,l.x,p.m,l.t,l.C],pipes:[C.c,v.d],styles:["ion-list[_ngcontent-%COMP%]{font-size:18px}ion-label[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{font-size:12px}ion-icon[_ngcontent-%COMP%]{height:16px;width:16px}ion-label[_ngcontent-%COMP%]   ion-item[_ngcontent-%COMP%]{font-size:12px;--min-height:1px}ion-label[_ngcontent-%COMP%]   ion-item[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{height:12px;width:12px;margin-right:5px;margin-top:5px;margin-bottom:0}ion-label[_ngcontent-%COMP%]   ion-item[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{margin-top:2px}.company[_ngcontent-%COMP%]{font-size:12px}ion-note[_ngcontent-%COMP%]{font-size:10px}"]}),e})();var T=n("yNcl"),P=n("1Ss9");const I=function(e){return{company:e}};function x(e,r){if(1&e&&(d.Tb(0,"app-primary-header",4),d.fc(1,"translate"),d.Ob(2,"ion-back-button",5),d.Sb()),2&e){const e=d.ec();d.lc("title",d.hc(1,2,"ORDER_DETAIL_PAGE_TITLE",d.pc(5,I,e.order.location_description.name))),d.Cb(2),d.lc("defaultHref","/customers/orders")}}function z(e,r){if(1&e&&(d.Rb(0),d.Ob(1,"app-order-completion-card",6),d.Qb()),2&e){const e=d.ec(3);d.Cb(1),d.lc("order",e.order)}}function B(e,r){1&e&&(d.Tb(0,"h6"),d.Bc(1),d.fc(2,"translate"),d.Sb()),2&e&&(d.Cb(1),d.Cc(d.gc(2,1,"Your service technician")))}function M(e,r){if(1&e&&(d.Rb(0),d.zc(1,z,2,1,"ng-container",2),d.Tb(2,"div",7),d.zc(3,B,3,3,"h6",2),d.Ob(4,"app-contact",6),d.Sb(),d.Qb()),2&e){const e=d.ec(2);d.Cb(1),d.lc("ngIf",e.order.completed_at),d.Cb(2),d.lc("ngIf",!e.order.completed_at),d.Cb(1),d.lc("order",e.order)}}function j(e,r){1&e&&(d.Rb(0),d.Tb(1,"h3",8),d.Bc(2),d.fc(3,"translate"),d.Sb(),d.Qb()),2&e&&(d.Cb(2),d.Cc(d.gc(3,1,"Order Cancelled")))}function w(e,r){if(1&e){const e=d.Ub();d.Rb(0),d.Tb(1,"app-order-status-stepper",9),d.bc("orderStateChange",function(){return d.tc(e),d.ec(2).fetchOrder()}),d.Sb(),d.Qb()}if(2&e){const e=d.ec(2);d.Cb(1),d.lc("order",e.order)("orderSteps",e.CustomerOrderSteps)}}function E(e,r){if(1&e&&(d.Rb(0),d.zc(1,M,5,3,"ng-container",2),d.zc(2,j,4,3,"ng-container",2),d.zc(3,w,2,2,"ng-container",2),d.Ob(4,"app-order-details-component",6),d.Qb()),2&e){const e=d.ec();d.Cb(1),d.lc("ngIf",e.serviceProvider),d.Cb(1),d.lc("ngIf",e.cancelled),d.Cb(1),d.lc("ngIf",!e.cancelled),d.Cb(1),d.lc("order",e.order)}}function R(e,r){if(1&e){const e=d.Ub();d.Tb(0,"ion-footer",10),d.bc("click",function(){return d.tc(e),d.ec().cancelOrder()}),d.Tb(1,"ion-button",11),d.Bc(2),d.fc(3,"translate"),d.Sb(),d.Sb()}2&e&&(d.Cb(2),d.Cc(d.gc(3,1,"Cancel Order")))}const k=[{path:"",component:(()=>{class e{constructor(e,r,n){this.activatedRoute=e,this.orderService=r,this.router=n,this.CustomerOrderSteps=o.b}get accepted(){return!(!this.order||!this.order.accepted_at)}get cancelled(){return!(!this.order||this.order.status!==c.f.Cancelled)}ionViewDidEnter(){return Object(i.a)(this,void 0,void 0,function*(){const e=yield this.activatedRoute.snapshot.params.order;this.fetchOrder(e)})}refreshOrder(e){return Object(i.a)(this,void 0,void 0,function*(){setTimeout(()=>{this.fetchOrder(this.order.id),e.target.complete()},1e3)})}fetchOrder(e){return Object(i.a)(this,void 0,void 0,function*(){this.order=null,this.order=yield this.orderService.getOrder(e),this.order.service_provider&&(this.serviceProvider=yield this.orderService.getUserById(this.order.service_provider.id))})}cancelOrder(){return Object(i.a)(this,void 0,void 0,function*(){yield this.orderService.cancelOrder(this.order),yield this.fetchOrder(this.order.id)})}}return e.\u0275fac=function(r){return new(r||e)(d.Nb(t.a),d.Nb(b.a),d.Nb(t.g))},e.\u0275cmp=d.Hb({type:e,selectors:[["app-order-details"]],decls:9,vars:3,consts:[[3,"title",4,"ngIf"],["slot","fixed",3,"ionRefresh"],[4,"ngIf"],["class","ion-padding",3,"click",4,"ngIf"],[3,"title"],[3,"defaultHref"],[3,"order"],[1,"ion-padding"],[1,"ion-padding-start"],[3,"order","orderSteps","orderStateChange"],[1,"ion-padding",3,"click"],["expand","block","fill","outline"]],template:function(e,r){1&e&&(d.Tb(0,"ion-header"),d.zc(1,x,3,7,"app-primary-header",0),d.Sb(),d.Tb(2,"ion-content"),d.Tb(3,"ion-refresher",1),d.bc("ionRefresh",function(e){return r.refreshOrder(e)}),d.Ob(4,"ion-refresher-content"),d.Sb(),d.zc(5,E,5,4,"ng-container",2),d.Ob(6,"br"),d.Ob(7,"br"),d.Sb(),d.zc(8,R,4,3,"ion-footer",3)),2&e&&(d.Cb(1),d.lc("ngIf",r.order),d.Cb(4),d.lc("ngIf",r.order),d.Cb(3),d.lc("ngIf",!r.accepted&&!r.cancelled))},directives:[l.s,p.m,l.p,l.D,l.E,f.a,l.f,l.g,u.a,_,T.a,P.a,l.q,l.i],pipes:[C.c],styles:[""]}),Object(i.b)([Object(a.a)("",!1)],e.prototype,"refreshOrder",null),Object(i.b)([Object(s.a)(),Object(a.a)("Order cancelled!",!0)],e.prototype,"cancelOrder",null),e})()}];let D=(()=>{class e{}return e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=d.Lb({type:e}),e.\u0275inj=d.Kb({imports:[[t.j.forChild(k)],t.j]}),e})();var L=n("PCNd");let H=(()=>{class e{}return e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=d.Lb({type:e}),e.\u0275inj=d.Kb({imports:[[L.a,D]]}),e})()}}]);