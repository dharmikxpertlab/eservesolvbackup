(window.webpackJsonp=window.webpackJsonp||[]).push([[7],{"1Esg":function(e,t,n){"use strict";n.d(t,"a",function(){return u});var i=n("mrSG"),r=n("2Vo4"),o=n("roZI"),c=n("fXoL"),a=n("TEn/"),s=n("sYmb");let d=(()=>{class e{constructor(e){this.popoverController=e}ngOnInit(){}}return e.\u0275fac=function(t){return new(t||e)(c.Nb(a.W))},e.\u0275cmp=c.Hb({type:e,selectors:[["app-confirm-search-candidates"]],decls:11,vars:9,consts:[[1,"ion-padding","ion-text-center"],["mode","md","color","primary",3,"click"]],template:function(e,t){1&e&&(c.Tb(0,"div",0),c.Tb(1,"ion-text"),c.Tb(2,"h3"),c.Bc(3),c.fc(4,"translate"),c.Sb(),c.Sb(),c.Tb(5,"p"),c.Bc(6),c.fc(7,"translate"),c.Sb(),c.Tb(8,"ion-button",1),c.bc("click",function(){return t.popoverController.dismiss({approved:!0})}),c.Bc(9),c.fc(10,"translate"),c.Sb(),c.Sb()),2&e&&(c.Cb(3),c.Cc(c.gc(4,3,"Binding order")),c.Cb(3),c.Cc(c.gc(7,5,"I hereby agree to the terms and conditions and would now like to make a binding booking of a technician")),c.Cb(3),c.Dc(" ",c.gc(10,7,"Order to tender")," "))},directives:[a.K,a.i],pipes:[s.c],styles:[""]}),e})();var l=n("7jUV");let u=(()=>{class e{constructor(e,t){this.orderService=e,this.popoverController=t,this.selectedCandidates=new r.a([]),this.MAX_SELECTION=3}chooseCandidate(e){const t=this.selectedCandidates.getValue().indexOf(e);-1===t?this.selectedCandidates.next([...this.selectedCandidates.getValue(),e]):(this.selectedCandidates.getValue().splice(t,1),this.selectedCandidates.next([...this.selectedCandidates.getValue()]))}isCandidateChoosen(e){return this.isCandidateSelectionNonEmpty()&&this.selectedCandidates.getValue().indexOf(e)>-1}isCandidateSelectionInLimit(){return this.selectedCandidates.getValue().length<=this.MAX_SELECTION}isCandidateSelectionValid(){return this.isCandidateSelectionNonEmpty()&&this.isCandidateSelectionInLimit()}isCandidateSelectionNonEmpty(){return this.selectedCandidates.getValue()&&this.selectedCandidates.getValue().length>0}getCandidates(e,t="distance"){return Object(i.a)(this,void 0,void 0,function*(){return yield(yield this.orderService.ordersCandidatesRetrieve({id:e,sort:t})).toPromise().then(t=>Object(i.a)(this,void 0,void 0,function*(){const n=yield this.getApplicableRate(e);return t.map(e=>e.profile.applicable_rate=e.profile[n]),t.filter(e=>null!==e.distance)}))})}getApplicableRate(e){return Object(i.a)(this,void 0,void 0,function*(){let t="rate_standard";return(yield this.getOrder(e)).type===o.g.EmergencyRepair&&(t="rate_emergency"),t})}getCandidate(e,t){return Object(i.a)(this,void 0,void 0,function*(){return yield(yield this.orderService.ordersCandidatesRetrieve({id:e})).toPromise().then(n=>Object(i.a)(this,void 0,void 0,function*(){n&&n!=={}&&n!==[]||(n=[]);const i=yield this.getApplicableRate(e);return n.find(e=>(e.profile.applicable_rate=e.profile[i],e.profile.id===t))}))})}selectCandidates(e){return Object(i.a)(this,void 0,void 0,function*(){return yield(yield this.orderService.ordersPartialUpdate$Json({id:e,body:{candidate_service_providers:this.selectedCandidates.getValue()}})).toPromise().then(()=>{this.selectedCandidates.next([])}).finally(()=>{this.selectedCandidates.next(null)})})}openConfirmationPopover(){return Object(i.a)(this,void 0,void 0,function*(){const e=yield this.popoverController.create({component:d,cssClass:"confirm-search-candidates-popover",translucent:!1});yield e.present();const{data:t}=yield e.onDidDismiss();return!(!t||!t.approved)})}getOrder(e){return Object(i.a)(this,void 0,void 0,function*(){return yield(yield this.orderService.ordersRetrieve({id:e})).toPromise()})}}return e.\u0275fac=function(t){return new(t||e)(c.Xb(l.g),c.Xb(a.W))},e.\u0275prov=c.Jb({token:e,factory:e.\u0275fac,providedIn:"root"}),e})()},"5d33":function(e,t,n){"use strict";n.d(t,"a",function(){return r});var i=n("FUe0");const r=Object(i.d)("Browser",{web:()=>n.e(60).then(n.bind(null,"fOPH")).then(e=>new e.BrowserWeb)})},LvhV:function(e,t,n){"use strict";n.d(t,"a",function(){return p});var i=n("mrSG"),r=n("fXoL"),o=n("roZI"),c=n("5d33"),a=n("ofXK"),s=n("TEn/");function d(e,t){if(1&e&&r.Ob(0,"ion-img",6),2&e){const e=r.ec().$implicit;r.lc("src",e.document)}}function l(e,t){1&e&&r.Ob(0,"ion-img",7)}function u(e,t){if(1&e){const e=r.Ub();r.Tb(0,"div",8),r.bc("click",function(){r.tc(e);const t=r.ec().$implicit;return r.ec().delete(t.id)}),r.Ob(1,"ion-icon",9),r.Sb()}}function b(e,t){if(1&e){const e=r.Ub();r.Tb(0,"div"),r.Tb(1,"div",2),r.bc("click",function(){r.tc(e);const n=t.$implicit;return r.ec().view(n.document)}),r.zc(2,d,1,1,"ion-img",3),r.zc(3,l,1,0,"ion-img",4),r.Sb(),r.zc(4,u,2,0,"div",5),r.Sb()}if(2&e){const e=t.$implicit,n=r.ec();r.Cb(2),r.lc("ngIf",e.type===n.OrderDescriptionDocumentTypeEnum.Image),r.Cb(1),r.lc("ngIf",e.type===n.OrderDescriptionDocumentTypeEnum.Document),r.Cb(1),r.lc("ngIf",n.showDeleteButton)}}let p=(()=>{class e{constructor(){this.OrderDescriptionDocumentTypeEnum=o.d,this.deleteButtonEvent=new r.o,this.showDeleteButton=!0}ngOnInit(){}view(e){return Object(i.a)(this,void 0,void 0,function*(){yield c.a.open({url:e})})}delete(e){this.deleteButtonEvent.emit(e)}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=r.Hb({type:e,selectors:[["app-order-document-preview"]],inputs:{documents:"documents",showDeleteButton:"showDeleteButton"},outputs:{deleteButtonEvent:"deleteButtonEvent"},decls:2,vars:1,consts:[[1,"document-items"],[4,"ngFor","ngForOf"],[1,"document-item",3,"click"],[3,"src",4,"ngIf"],["src","assets/images/document.svg",4,"ngIf"],["class","delete-button",3,"click",4,"ngIf"],[3,"src"],["src","assets/images/document.svg"],[1,"delete-button",3,"click"],["name","close-circle"]],template:function(e,t){1&e&&(r.Tb(0,"div",0),r.zc(1,b,5,3,"div",1),r.Sb()),2&e&&(r.Cb(1),r.lc("ngForOf",t.documents))},directives:[a.l,a.m,s.u,s.t],styles:[".document-item[_ngcontent-%COMP%]{width:60px;height:62px;padding:2px;border:1px solid #e5e5e5;margin:5px;border-radius:3px}.document-item[_ngcontent-%COMP%]:nth-child(4n){page-break-after:always;break-after:always}.document-items[_ngcontent-%COMP%]{display:flex}.delete-button[_ngcontent-%COMP%]{text-align:center;font-size:16px}ion-icon[_ngcontent-%COMP%]{height:25px;width:25px}ion-img[_ngcontent-%COMP%]{height:100%;max-height:62px}"]}),e})()},VMVM:function(e,t,n){"use strict";n.d(t,"a",function(){return a});var i=n("mrSG"),r=n("LvDl"),o=n("fXoL"),c=n("7jUV");let a=(()=>{class e{constructor(e){this.credentialService=e}getCredentials(){return Object(i.a)(this,void 0,void 0,function*(){return yield(yield this.credentialService.credentialsRetrieve()).toPromise().then(e=>(e.experience&&(e.experience=r.sortBy(e.experience,"name")),e.certificates&&(e.certificates=r.sortBy(e.certificates,"name")),e.training&&(e.training=r.sortBy(e.training,"name")),e))})}}return e.\u0275fac=function(t){return new(t||e)(o.Xb(c.c))},e.\u0275prov=o.Jb({token:e,factory:e.\u0275fac,providedIn:"root"}),e})()},pgpc:function(e,t,n){"use strict";n.r(t),n.d(t,"OrderFormPageModule",function(){return ne});var i=n("tyNb"),r=n("mrSG"),o=n("3Pt+"),c=n("roZI"),a=n("JqHY"),s=n("gMLP"),d=n("LvDl"),l=n("W4DG"),u=n("v++7"),b=n("/s3u"),p=n("rvvs"),m=n("wd/R"),f=n("fXoL"),h=n("mqor"),g=n("1Esg"),v=n("H3/T"),C=n("FKr1"),y=n("TEn/"),O=n("qO5g"),S=n("kmnG"),T=n("d3UM"),_=n("ofXK"),x=n("qFsG"),w=n("LvhV"),F=n("QTxr"),D=n("iadO"),I=n("sYmb");const B=["documentButton"],j=["picker"];function k(e,t){if(1&e&&(f.Tb(0,"mat-option",26),f.Bc(1),f.Sb()),2&e){const e=t.$implicit;f.lc("value",e.id),f.Cb(1),f.Dc(" ",e.name," ")}}function E(e,t){if(1&e&&(f.Tb(0,"mat-option",26),f.Bc(1),f.Sb()),2&e){const e=t.$implicit;f.lc("value",e.id),f.Cb(1),f.Dc(" ",e.manufacturer," ")}}function V(e,t){}function N(e,t){if(1&e&&(f.Rb(0),f.zc(1,V,0,0,"ng-template",27),f.Qb()),2&e){f.ec();const e=f.sc(46);f.Cb(1),f.lc("ngTemplateOutlet",e)}}function z(e,t){}function M(e,t){if(1&e&&(f.Rb(0),f.zc(1,z,0,0,"ng-template",27),f.Qb()),2&e){f.ec();const e=f.sc(46);f.Cb(1),f.lc("ngTemplateOutlet",e)}}function P(e,t){if(1&e){const e=f.Ub();f.Rb(0),f.Tb(1,"app-accordion",29),f.bc("optionsChangeEvent",function(n){f.tc(e);const i=t.$implicit;return f.ec(2).updateOptions(n,i.type)}),f.Sb(),f.Qb()}if(2&e){const e=t.$implicit,n=f.ec(2);f.Cb(1),f.lc("values",n.orderForm.get(e.type).value)("options",n.credentialOptions[e.type])("mode",e)("area",n.orderAreaValue)("filterCategories",!0)}}function R(e,t){if(1&e&&f.zc(0,P,2,5,"ng-container",28),2&e){const e=f.ec();f.lc("ngForOf",e.OptionsSection1)}}function q(e,t){if(1&e&&(f.Rb(0),f.Bc(1),f.fc(2,"translate"),f.Qb()),2&e){const e=f.ec().$implicit;f.Cb(1),f.Dc(" ",f.gc(2,1,"IN_"+e.value+"_DAYS")," ")}}function L(e,t){if(1&e&&(f.Rb(0),f.Bc(1),f.Qb()),2&e){const e=f.ec().$implicit;f.Cb(1),f.Dc(" ",e.value+"h"," ")}}function A(e,t){if(1&e&&(f.Tb(0,"mat-option",26),f.zc(1,q,3,3,"ng-container",10),f.zc(2,L,2,1,"ng-container",10),f.Sb()),2&e){const e=t.$implicit,n=f.ec(2);f.lc("value",e.value*n.getServiceTimeFactor(e.type)),f.Cb(1),f.lc("ngIf",e.type&&e.type===n.ServiceTimeTypeEnum.Days),f.Cb(1),f.lc("ngIf",!e.type||e.type===n.ServiceTimeTypeEnum.Hours)}}function U(e,t){if(1&e&&(f.Tb(0,"mat-form-field",5),f.Tb(1,"mat-label"),f.Bc(2),f.fc(3,"translate"),f.Sb(),f.Tb(4,"mat-select",30),f.zc(5,A,3,3,"mat-option",7),f.Sb(),f.Sb()),2&e){const e=f.ec();f.Cb(2),f.Cc(f.gc(3,2,"Select a time window")),f.Cb(3),f.lc("ngForOf",e.serviceTimeOptions)}}function $(e,t){if(1&e&&(f.Tb(0,"ion-item",39),f.Tb(1,"ion-text"),f.Bc(2),f.fc(3,"translate"),f.Sb(),f.Sb()),2&e){const e=f.ec(2);f.Cb(2),f.Ec("",f.gc(3,2,"Selected Date"),": ",e.selectedDateForMaintenance,"")}}function H(e,t){if(1&e){const e=f.Ub();f.Rb(0),f.Tb(1,"mat-form-field",31),f.Ob(2,"input",32),f.Ob(3,"mat-datepicker-toggle",33),f.Ob(4,"mat-datepicker",34,35),f.Sb(),f.Tb(6,"ion-button",36),f.bc("click",function(){return f.tc(e),f.sc(5).open()}),f.Bc(7),f.fc(8,"translate"),f.Ob(9,"ion-icon",37),f.Sb(),f.zc(10,$,4,4,"ion-item",38),f.Qb()}if(2&e){const e=f.sc(5),t=f.ec();f.Cb(2),f.lc("min",t.minDate)("matDatepicker",e),f.Cb(1),f.lc("for",e),f.Cb(4),f.Dc(" ",f.gc(8,5,"Choose a date")," "),f.Cb(3),f.lc("ngIf",t.selectedDateForMaintenance)}}function K(e,t){1&e&&(f.Tb(0,"ion-note",40),f.Bc(1),f.fc(2,"translate"),f.Sb()),2&e&&(f.Cb(1),f.Dc(" ",f.gc(2,1,"Please fill the required fields (*) before uploading documents")," "))}function G(e,t){}function Q(e,t){if(1&e&&(f.Rb(0),f.zc(1,G,0,0,"ng-template",27),f.Qb()),2&e){f.ec();const e=f.sc(92);f.Cb(1),f.lc("ngTemplateOutlet",e)}}function X(e,t){}function J(e,t){if(1&e&&(f.Rb(0),f.zc(1,X,0,0,"ng-template",27),f.Qb()),2&e){f.ec();const e=f.sc(92);f.Cb(1),f.lc("ngTemplateOutlet",e)}}function W(e,t){if(1&e){const e=f.Ub();f.Rb(0),f.Tb(1,"app-accordion",29),f.bc("optionsChangeEvent",function(n){f.tc(e);const i=t.$implicit;return f.ec(2).updateOptions(n,i.type)}),f.Sb(),f.Qb()}if(2&e){const e=t.$implicit,n=f.ec(2);f.Cb(1),f.lc("values",n.orderForm.get(e.type).value)("options",n.credentialOptions[e.type])("mode",e)("area",n.orderAreaValue)("filterCategories",!0)}}function Y(e,t){if(1&e&&f.zc(0,W,2,5,"ng-container",28),2&e){const e=f.ec();f.lc("ngForOf",e.OptionsSection2)}}const Z=[{path:"",component:(()=>{class e{constructor(e,t,n,i,r,d){this.activatedRoute=e,this.router=t,this.orderService=n,this.searchService=i,this.languageService=r,this.dateAdapter=d,this.OptionsSection2=[{name:"Certificates",type:a.c.Training},{name:"Preventive Occupational Health Care",type:a.c.Certificate},{name:"Experience with Manufacturers",type:a.c.Experience}],this.OptionsSection1=[{name:"Selection Criteria / Skills",type:a.c.Skills}],this.OrderDescriptionDocumentTypeEnum=c.d,this.ServiceTimeTypeEnum=s.e,this.ServiceTimeOptionMultiplicationFactor=s.c,this.Type2DeEnum=c.g,this.orderFetched=!1,this.orderForm=new o.h({area:new o.e(null,o.x.required),certificates:new o.e([]),contact_person_email:new o.e("",o.x.required),contact_person_full_name:new o.e("",o.x.required),contact_person_phone:new o.e("",o.x.required),description:new o.e("",o.x.required),documents:new o.e([]),experience:new o.e([]),id:new o.e(null),location:new o.e(null,o.x.required),machine:new o.e(null),needs_fix_in_hours:new o.e(null,o.x.required),skills:new o.e([]),type:new o.e("",o.x.required),what_three_words:new o.e(""),training:new o.e([]),needs_fix_in_hours_date:new o.e(null)})}get serviceTimeOptions(){return null!=this.selectedKind&&this.orderTypeValue?d.find(s.d,{orderType:this.orderTypeValue}).values:[]}get orderArea(){return d.find(s.a,{id:this.selectedDept}).name}get orderAreaValue(){return d.find(s.a,{id:this.selectedDept}).value}get orderType(){return d.find(s.b,{id:this.selectedKind}).name}get orderTypeValue(){return d.find(s.b,{id:this.selectedKind}).value}get orderId(){return this.orderForm.get("id").value}get location(){return this.orderForm.get("location").value}get selectedDateForMaintenance(){if(this.orderForm.get("needs_fix_in_hours_date").value){const e=d.find(s.c,{type:s.e.Date});return m(this.orderForm.get("needs_fix_in_hours_date").value).format(e.momentTimeFormat)}return null}getServiceTimeFactor(e){return d.find(s.c,{type:e}).factor||1}ngOnInit(){return Object(r.a)(this,void 0,void 0,function*(){if(this.selectedKind=+this.activatedRoute.snapshot.params.kind,this.selectedDept=+this.activatedRoute.snapshot.params.department,this.locations=yield this.orderService.getLocations(),this.location&&(this.machines=yield this.orderService.getMachines(this.location)),this.orderForm.get("location").valueChanges.subscribe(e=>Object(r.a)(this,void 0,void 0,function*(){this.machines=yield this.orderService.getMachines(e)})),this.orderForm.patchValue({area:this.orderAreaValue,type:d.find(s.b,{id:this.selectedKind}).value}),this.credentialOptions=yield this.orderService.getCredentials(),this.minDate=new Date,this.orderForm.get("needs_fix_in_hours_date").valueChanges.subscribe(e=>Object(r.a)(this,void 0,void 0,function*(){this.setNeedFixInHours(e)})),this.activatedRoute.snapshot.params.order){const e=+this.activatedRoute.snapshot.params.order;this.orderForm.get("id").patchValue(e),yield this.fetchOrder()}})}updateOptions(e,t){const n=e.filter(e=>e.isChecked).map(e=>e.id);this.orderForm.get(t).patchValue(n)}saveOrderForm(){return Object(r.a)(this,void 0,void 0,function*(){const e=yield this.orderService.saveOrder(this.orderForm.value);this.orderForm.patchValue(Object.assign({},e))})}submit(){return Object(r.a)(this,void 0,void 0,function*(){yield this.saveOrderForm(),this.searchService.selectedCandidates.next([]),this.router.navigate(["/customers","search",this.orderId,"results"])})}selectFileToUpload(e){this.uploadDocument(e.target.files[0])}uploadDocument(e){return Object(r.a)(this,void 0,void 0,function*(){yield this.saveOrderForm(),yield this.orderService.addDocument(this.orderForm.value,e),this.fetchOrder()})}fetchOrder(){return Object(r.a)(this,void 0,void 0,function*(){const e=yield this.orderService.getOrder(this.orderId);this.orderForm.patchValue(Object.assign({},e)),this.setNeedFixInHoursDate(e),this.orderFetched=!0})}deleteDocument(e){return Object(r.a)(this,void 0,void 0,function*(){yield this.saveOrderForm(),yield this.orderService.deleteDocument(this.orderId,e),this.fetchOrder()})}clickFileInput(){return Object(r.a)(this,void 0,void 0,function*(){"web"!==(yield p.a.getInfo()).platform&&(yield b.a.requestPermissions()),this.documentButton.nativeElement.click()})}ionViewDidEnter(){return Object(r.a)(this,void 0,void 0,function*(){this.dateAdapter.setLocale(yield this.languageService.getLanguage())})}setNeedFixInHours(e){const t=new Date,n=new Date(e),i=m(n).diff(m(t),"days")+1,r=d.find(s.c,{type:s.e.Date});this.orderForm.get("needs_fix_in_hours").patchValue(i*r.factor)}setNeedFixInHoursDate(e){const t=m(e.created_at).add(this.orderForm.get("needs_fix_in_hours").value/24,"days");this.orderForm.get("needs_fix_in_hours_date").patchValue(new Date(t.toString()))}}return e.\u0275fac=function(t){return new(t||e)(f.Nb(i.a),f.Nb(i.g),f.Nb(h.a),f.Nb(g.a),f.Nb(v.a),f.Nb(C.a))},e.\u0275cmp=f.Hb({type:e,selectors:[["app-order-form"]],viewQuery:function(e,t){if(1&e&&(f.Gc(B,1),f.Gc(j,1)),2&e){let e;f.rc(e=f.cc())&&(t.documentButton=e.first),f.rc(e=f.cc())&&(t.picker=e.first)}},decls:96,vars:72,consts:[[3,"title"],["defaultHref","/customers/orders/new"],[1,"ion-padding",3,"formGroup","ngSubmit"],[1,"strong"],["color","primary"],["appearance","outline"],["required","true","formControlName","location"],[3,"value",4,"ngFor","ngForOf"],["formControlName","machine"],["type","text","matInput","","formControlName","what_three_words"],[4,"ngIf"],["options1",""],["required","true","type","text","matInput","","formControlName","description"],["appearance","outline","color","primary"],["required","true","type","text","matInput","","formControlName","contact_person_full_name"],["required","true","type","text","matInput","","formControlName","contact_person_phone"],["required","true","type","email","matInput","","formControlName","contact_person_email"],["appearance","outline",4,"ngIf"],["mode","md","color","secondary","type","button",1,"upload-button",3,"click"],["size","large","slot","start","name","add"],["class","ion-text-center",4,"ngIf"],["type","file",1,"display-none","file-input",3,"change"],["documentButton",""],[3,"documents","deleteButtonEvent"],["options2",""],["expand","block","mode","md","type","submit",1,"ion-margin-top","ion-margin-bottom",3,"disabled"],[3,"value"],[3,"ngTemplateOutlet"],[4,"ngFor","ngForOf"],[3,"values","options","mode","area","filterCategories","optionsChangeEvent"],["required","true","formControlName","needs_fix_in_hours"],[2,"width","1px","display","none"],["matInput","","formControlName","needs_fix_in_hours_date",3,"min","matDatepicker"],["matSuffix","",3,"for"],["touchUi",""],["picker",""],["expand","block","fill","outline","size","medium","mode","md","type","button",3,"click"],["slot","end","name","calendar","color","primary"],["class","ion-no-padding",4,"ngIf"],[1,"ion-no-padding"],[1,"ion-text-center"]],template:function(e,t){1&e&&(f.Tb(0,"ion-header"),f.Tb(1,"app-primary-header",0),f.fc(2,"translate"),f.Ob(3,"ion-back-button",1),f.Sb(),f.Sb(),f.Tb(4,"ion-content"),f.Tb(5,"form",2),f.bc("ngSubmit",function(){return t.submit()}),f.Tb(6,"mat-label",3),f.Bc(7),f.fc(8,"translate"),f.Sb(),f.Bc(9,": "),f.Tb(10,"ion-text",4),f.Bc(11),f.fc(12,"translate"),f.fc(13,"translate"),f.Sb(),f.Tb(14,"h6"),f.Bc(15),f.fc(16,"translate"),f.Sb(),f.Tb(17,"mat-form-field",5),f.Tb(18,"mat-label"),f.Bc(19),f.fc(20,"translate"),f.Sb(),f.Tb(21,"mat-select",6),f.zc(22,k,2,2,"mat-option",7),f.Sb(),f.Sb(),f.Tb(23,"h6"),f.Bc(24),f.fc(25,"translate"),f.Sb(),f.Tb(26,"mat-form-field",5),f.Tb(27,"mat-label"),f.Bc(28),f.fc(29,"translate"),f.Sb(),f.Tb(30,"mat-select",8),f.Tb(31,"mat-option"),f.Bc(32),f.fc(33,"translate"),f.Sb(),f.zc(34,E,2,2,"mat-option",7),f.Sb(),f.Sb(),f.Tb(35,"h6"),f.Bc(36),f.fc(37,"translate"),f.Sb(),f.Tb(38,"mat-form-field",5),f.Tb(39,"mat-label"),f.Bc(40),f.fc(41,"translate"),f.Sb(),f.Ob(42,"input",9),f.Sb(),f.zc(43,N,2,1,"ng-container",10),f.zc(44,M,2,1,"ng-container",10),f.zc(45,R,1,1,"ng-template",null,11,f.Ac),f.Tb(47,"h6"),f.Bc(48),f.fc(49,"translate"),f.Sb(),f.Tb(50,"mat-form-field",5),f.Tb(51,"mat-label"),f.Bc(52),f.fc(53,"translate"),f.Sb(),f.Ob(54,"textarea",12),f.Sb(),f.Tb(55,"h6"),f.Bc(56),f.fc(57,"translate"),f.Sb(),f.Tb(58,"mat-form-field",13),f.Tb(59,"mat-label"),f.Bc(60),f.fc(61,"translate"),f.Sb(),f.Ob(62,"input",14),f.Sb(),f.Tb(63,"mat-form-field",5),f.Tb(64,"mat-label"),f.Bc(65),f.fc(66,"translate"),f.Sb(),f.Ob(67,"input",15),f.Sb(),f.Tb(68,"mat-form-field",5),f.Tb(69,"mat-label"),f.Bc(70),f.fc(71,"translate"),f.Sb(),f.Ob(72,"input",16),f.Sb(),f.Tb(73,"h6"),f.Bc(74),f.fc(75,"translate"),f.Sb(),f.zc(76,U,6,4,"mat-form-field",17),f.zc(77,H,11,7,"ng-container",10),f.Ob(78,"br"),f.Tb(79,"ion-button",18),f.bc("click",function(){return t.clickFileInput()}),f.Ob(80,"ion-icon",19),f.Tb(81,"ion-label"),f.Bc(82),f.fc(83,"translate"),f.Sb(),f.Sb(),f.Ob(84,"br"),f.zc(85,K,3,3,"ion-note",20),f.Tb(86,"input",21,22),f.bc("change",function(e){return t.selectFileToUpload(e)}),f.Sb(),f.Tb(88,"app-order-document-preview",23),f.bc("deleteButtonEvent",function(e){return t.deleteDocument(e)}),f.Sb(),f.zc(89,Q,2,1,"ng-container",10),f.zc(90,J,2,1,"ng-container",10),f.zc(91,Y,1,1,"ng-template",null,24,f.Ac),f.Tb(93,"ion-button",25),f.Bc(94),f.fc(95,"translate"),f.Sb(),f.Sb(),f.Sb()),2&e&&(f.Cb(1),f.lc("title",f.gc(2,32,"Create Order")),f.Cb(4),f.lc("formGroup",t.orderForm),f.Cb(2),f.Cc(f.gc(8,34,"Type")),f.Cb(4),f.Ec(" ",f.gc(12,36,t.orderType)," / ",f.gc(13,38,t.orderArea)," "),f.Cb(4),f.Cc(f.gc(16,40,"Location")),f.Cb(4),f.Cc(f.gc(20,42,"Select a location")),f.Cb(3),f.lc("ngForOf",t.locations),f.Cb(2),f.Cc(f.gc(25,44,"Machine")),f.Cb(4),f.Cc(f.gc(29,46,"Select a machine")),f.Cb(4),f.Cc(f.gc(33,48,"Not applicable")),f.Cb(2),f.lc("ngForOf",t.machines),f.Cb(2),f.Cc(f.gc(37,50,"Exact location")),f.Cb(4),f.Cc(f.gc(41,52,"what3words")),f.Cb(3),f.lc("ngIf",t.credentialOptions&&t.orderFetched),f.Cb(1),f.lc("ngIf",t.credentialOptions&&!t.orderFetched),f.Cb(4),f.Cc(f.gc(49,54,"Description of the damage")),f.Cb(4),f.Cc(f.gc(53,56,"Description")),f.Cb(4),f.Cc(f.gc(57,58,"Local Contact")),f.Cb(4),f.Cc(f.gc(61,60,"Name")),f.Cb(5),f.Cc(f.gc(66,62,"Phone")),f.Cb(5),f.Cc(f.gc(71,64,"E-Mail")),f.Cb(4),f.Cc(f.gc(75,66,"Requirements for the technician")),f.Cb(2),f.lc("ngIf",t.orderTypeValue!==t.Type2DeEnum.PredictiveMaintenance),f.Cb(1),f.lc("ngIf",t.orderTypeValue===t.Type2DeEnum.PredictiveMaintenance),f.Cb(5),f.Cc(f.gc(83,68,"Upload descriptive documents / photos here")),f.Cb(3),f.lc("ngIf",!t.orderForm.valid),f.Cb(3),f.lc("documents",t.orderForm.get("documents").value),f.Cb(1),f.lc("ngIf",t.credentialOptions&&!t.orderFetched),f.Cb(1),f.lc("ngIf",t.credentialOptions&&t.orderFetched),f.Cb(3),f.lc("disabled",!t.orderForm.valid),f.Cb(1),f.Cc(f.gc(95,70,"Start Search")))},directives:[y.s,O.a,y.f,y.g,y.p,o.y,o.q,o.i,S.e,y.K,S.b,T.a,o.v,o.p,o.g,_.l,C.h,x.b,o.c,_.m,y.i,y.t,y.x,w.a,_.r,F.a,D.b,D.d,S.f,D.a,y.v,y.C],pipes:[I.c],styles:["ion-img[_ngcontent-%COMP%]{height:100%;object-fit:contain}ion-note[_ngcontent-%COMP%]{font-size:11px}.upload-button[_ngcontent-%COMP%]{--box-shadow:none;height:auto}.upload-button[_ngcontent-%COMP%]   ion-label[_ngcontent-%COMP%]{white-space:break-spaces;text-align:left;text-transform:none;letter-spacing:normal;margin-top:10px;line-height:20px;margin-bottom:10px}"]}),Object(r.b)([Object(l.a)(),Object(u.a)("",!1)],e.prototype,"saveOrderForm",null),Object(r.b)([Object(l.a)(),Object(u.a)("",!1)],e.prototype,"submit",null),Object(r.b)([Object(l.a)(),Object(u.a)("",!1)],e.prototype,"uploadDocument",null),Object(r.b)([Object(l.a)()],e.prototype,"deleteDocument",null),e})()}];let ee=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=f.Lb({type:e}),e.\u0275inj=f.Kb({imports:[[i.j.forChild(Z)],i.j]}),e})();var te=n("PCNd");let ne=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=f.Lb({type:e}),e.\u0275inj=f.Kb({imports:[[te.a,ee]]}),e})()}}]);