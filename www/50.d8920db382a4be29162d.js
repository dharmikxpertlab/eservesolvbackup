(window.webpackJsonp=window.webpackJsonp||[]).push([[50],{"0ZR+":function(e,t,i){"use strict";i.r(t),i.d(t,"SearchResultsPageModule",function(){return O});var n=i("tyNb"),c=i("mrSG"),r=i("v++7"),o=i("W4DG"),a=i("fXoL"),s=i("1Esg"),d=i("TEn/"),l=i("qO5g"),b=i("MRr7"),u=i("ofXK"),p=i("uCcx"),f=i("sYmb");function h(e,t){if(1&e&&(a.Tb(0,"ion-card",2),a.Ob(1,"app-search-result-item",9),a.Sb()),2&e){const e=t.$implicit;a.Cb(1),a.lc("serviceProvider",e)}}const v=function(){return{text:"Distance",value:"distance"}},S=function(){return{text:"Rate",value:"rate"}},m=function(e,t){return[e,t]},g=[{path:"",component:(()=>{class e{constructor(e,t,i){this.activatedRoute=e,this.searchService=t,this.router=i}ngOnInit(){return Object(c.a)(this,void 0,void 0,function*(){this.orderId=this.activatedRoute.snapshot.params.order,this.candidates=yield this.searchService.getCandidates(+this.orderId)})}applyFilter(e){return Object(c.a)(this,void 0,void 0,function*(){this.candidates=yield this.searchService.getCandidates(+this.orderId,e)})}selectCandidates(){return Object(c.a)(this,void 0,void 0,function*(){(yield this.searchService.openConfirmationPopover())&&(yield this.submitSelectedCandidates(),yield this.router.navigate(["/customers/dashboard"],{replaceUrl:!0}))})}submitSelectedCandidates(){return Object(c.a)(this,void 0,void 0,function*(){yield this.searchService.selectCandidates(+this.orderId)})}}return e.\u0275fac=function(t){return new(t||e)(a.Nb(n.a),a.Nb(s.a),a.Nb(n.g))},e.\u0275cmp=a.Hb({type:e,selectors:[["app-search-results"]],decls:25,vars:23,consts:[[3,"title"],["defaultHref","/customers/orders/new",3,"click"],[1,"ion-padding"],[1,"ion-no-padding"],[3,"fields","fieldSelectionEvent"],["size","medium","mode","md",1,"confirm-btn",3,"disabled","click"],[1,"ion-margin-start"],["lines","none",1,"ion-no-margin"],["class","ion-padding",4,"ngFor","ngForOf"],[3,"serviceProvider"]],template:function(e,t){1&e&&(a.Tb(0,"ion-header"),a.Tb(1,"app-primary-header",0),a.fc(2,"translate"),a.Tb(3,"ion-back-button",1),a.bc("click",function(){return t.searchService.selectedCandidates.next([])}),a.Sb(),a.Sb(),a.Sb(),a.Tb(4,"ion-content"),a.Tb(5,"div",2),a.Tb(6,"h6"),a.Bc(7),a.fc(8,"translate"),a.Sb(),a.Tb(9,"p"),a.Bc(10),a.fc(11,"translate"),a.Sb(),a.Tb(12,"ion-grid",3),a.Tb(13,"ion-row"),a.Tb(14,"ion-col",3),a.Tb(15,"app-sorting",4),a.bc("fieldSelectionEvent",function(e){return t.applyFilter(e.value)}),a.Sb(),a.Sb(),a.Tb(16,"ion-col"),a.Tb(17,"ion-button",5),a.bc("click",function(){return t.selectCandidates()}),a.Bc(18),a.fc(19,"translate"),a.Sb(),a.Sb(),a.Sb(),a.Sb(),a.Sb(),a.Tb(20,"ion-note",6),a.Bc(21),a.fc(22,"translate"),a.Sb(),a.Tb(23,"ion-list",7),a.zc(24,h,2,1,"ion-card",8),a.Sb(),a.Sb()),2&e&&(a.Cb(1),a.lc("title",a.gc(2,8,"Search Results")),a.Cb(6),a.Cc(a.gc(8,10,"Procurement")),a.Cb(3),a.Cc(a.gc(11,12,"Select up to 3 from the following service providers. All selected service providers have the opportunity to accept the order by reacting quickly.")),a.Cb(5),a.lc("fields",a.qc(20,m,a.oc(18,v),a.oc(19,S))),a.Cb(2),a.lc("disabled",!t.searchService.isCandidateSelectionValid()),a.Cb(1),a.Cc(a.gc(19,14,"Confirm Selection")),a.Cb(3),a.Dc("*",a.gc(22,16,"NOTE_SEARCH_RESULTS"),""),a.Cb(3),a.lc("ngForOf",t.candidates))},directives:[d.s,l.a,d.f,d.g,d.p,d.r,d.G,d.o,b.a,d.i,d.C,d.y,u.l,d.k,p.a],pipes:[f.c],styles:["h6[_ngcontent-%COMP%]{font-family:Roboto;font-style:normal;font-weight:500;font-size:16px;line-height:19px}.confirm-btn[_ngcontent-%COMP%]{margin-left:auto}"]}),Object(c.b)([Object(o.a)(),Object(r.a)("",!1)],e.prototype,"ngOnInit",null),Object(c.b)([Object(o.a)()],e.prototype,"applyFilter",null),Object(c.b)([Object(o.a)(),Object(r.a)("",!1)],e.prototype,"submitSelectedCandidates",null),e})()}];let C=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=a.Lb({type:e}),e.\u0275inj=a.Kb({imports:[[n.j.forChild(g)],n.j]}),e})();var y=i("PCNd");let O=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=a.Lb({type:e}),e.\u0275inj=a.Kb({imports:[[y.a,C]]}),e})()}}]);