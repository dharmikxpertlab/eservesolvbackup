(window.webpackJsonp=window.webpackJsonp||[]).push([[6],{"1Esg":function(e,t,i){"use strict";i.d(t,"a",function(){return u});var n=i("mrSG"),r=i("2Vo4"),s=i("roZI"),a=i("fXoL"),o=i("TEn/"),c=i("sYmb");let d=(()=>{class e{constructor(e){this.popoverController=e}ngOnInit(){}}return e.\u0275fac=function(t){return new(t||e)(a.Nb(o.W))},e.\u0275cmp=a.Hb({type:e,selectors:[["app-confirm-search-candidates"]],decls:11,vars:9,consts:[[1,"ion-padding","ion-text-center"],["mode","md","color","primary",3,"click"]],template:function(e,t){1&e&&(a.Tb(0,"div",0),a.Tb(1,"ion-text"),a.Tb(2,"h3"),a.Bc(3),a.fc(4,"translate"),a.Sb(),a.Sb(),a.Tb(5,"p"),a.Bc(6),a.fc(7,"translate"),a.Sb(),a.Tb(8,"ion-button",1),a.bc("click",function(){return t.popoverController.dismiss({approved:!0})}),a.Bc(9),a.fc(10,"translate"),a.Sb(),a.Sb()),2&e&&(a.Cb(3),a.Cc(a.gc(4,3,"Binding order")),a.Cb(3),a.Cc(a.gc(7,5,"I hereby agree to the terms and conditions and would now like to make a binding booking of a technician")),a.Cb(3),a.Dc(" ",a.gc(10,7,"Order to tender")," "))},directives:[o.K,o.i],pipes:[c.c],styles:[""]}),e})();var l=i("7jUV");let u=(()=>{class e{constructor(e,t){this.orderService=e,this.popoverController=t,this.selectedCandidates=new r.a([]),this.MAX_SELECTION=3}chooseCandidate(e){const t=this.selectedCandidates.getValue().indexOf(e);-1===t?this.selectedCandidates.next([...this.selectedCandidates.getValue(),e]):(this.selectedCandidates.getValue().splice(t,1),this.selectedCandidates.next([...this.selectedCandidates.getValue()]))}isCandidateChoosen(e){return this.isCandidateSelectionNonEmpty()&&this.selectedCandidates.getValue().indexOf(e)>-1}isCandidateSelectionInLimit(){return this.selectedCandidates.getValue().length<=this.MAX_SELECTION}isCandidateSelectionValid(){return this.isCandidateSelectionNonEmpty()&&this.isCandidateSelectionInLimit()}isCandidateSelectionNonEmpty(){return this.selectedCandidates.getValue()&&this.selectedCandidates.getValue().length>0}getCandidates(e,t="distance"){return Object(n.a)(this,void 0,void 0,function*(){return yield(yield this.orderService.ordersCandidatesRetrieve({id:e,sort:t})).toPromise().then(t=>Object(n.a)(this,void 0,void 0,function*(){const i=yield this.getApplicableRate(e);return t.map(e=>e.profile.applicable_rate=e.profile[i]),t.filter(e=>null!==e.distance)}))})}getApplicableRate(e){return Object(n.a)(this,void 0,void 0,function*(){let t="rate_standard";return(yield this.getOrder(e)).type===s.g.EmergencyRepair&&(t="rate_emergency"),t})}getCandidate(e,t){return Object(n.a)(this,void 0,void 0,function*(){return yield(yield this.orderService.ordersCandidatesRetrieve({id:e})).toPromise().then(i=>Object(n.a)(this,void 0,void 0,function*(){i&&i!=={}&&i!==[]||(i=[]);const n=yield this.getApplicableRate(e);return i.find(e=>(e.profile.applicable_rate=e.profile[n],e.profile.id===t))}))})}selectCandidates(e){return Object(n.a)(this,void 0,void 0,function*(){return yield(yield this.orderService.ordersPartialUpdate$Json({id:e,body:{candidate_service_providers:this.selectedCandidates.getValue()}})).toPromise().then(()=>{this.selectedCandidates.next([])}).finally(()=>{this.selectedCandidates.next(null)})})}openConfirmationPopover(){return Object(n.a)(this,void 0,void 0,function*(){const e=yield this.popoverController.create({component:d,cssClass:"confirm-search-candidates-popover",translucent:!1});yield e.present();const{data:t}=yield e.onDidDismiss();return!(!t||!t.approved)})}getOrder(e){return Object(n.a)(this,void 0,void 0,function*(){return yield(yield this.orderService.ordersRetrieve({id:e})).toPromise()})}}return e.\u0275fac=function(t){return new(t||e)(a.Xb(l.g),a.Xb(o.W))},e.\u0275prov=a.Jb({token:e,factory:e.\u0275fac,providedIn:"root"}),e})()},"7XlH":function(e,t,i){"use strict";i.d(t,"a",function(){return n});const n={serviceProviderDistanceSuffix:" km"}},E0Us:function(e,t,i){"use strict";i.d(t,"a",function(){return n});const n={amountPerHourSuffix:" \u20ac/h",amountSuffix:" \u20ac"}},JqHY:function(e,t,i){"use strict";i.d(t,"c",function(){return s}),i.d(t,"b",function(){return a}),i.d(t,"a",function(){return o});var n=i("roZI"),r=i("gMLP"),s=function(e){return e.Skills="skills",e.Certificate="certificates",e.Experience="experience",e.Training="training",e}({});const a=[{name:"Selection Criteria / Skills",type:s.Skills},{name:"Certificates",type:s.Training},{name:"Preventive Occupational Health Care",type:s.Certificate},{name:"Experience with Manufacturers",type:s.Experience}],o=[{name:"General",value:n.b.General},...r.a]},VMVM:function(e,t,i){"use strict";i.d(t,"a",function(){return o});var n=i("mrSG"),r=i("LvDl"),s=i("fXoL"),a=i("7jUV");let o=(()=>{class e{constructor(e){this.credentialService=e}getCredentials(){return Object(n.a)(this,void 0,void 0,function*(){return yield(yield this.credentialService.credentialsRetrieve()).toPromise().then(e=>(e.experience&&(e.experience=r.sortBy(e.experience,"name")),e.certificates&&(e.certificates=r.sortBy(e.certificates,"name")),e.training&&(e.training=r.sortBy(e.training,"name")),e))})}}return e.\u0275fac=function(t){return new(t||e)(s.Xb(a.c))},e.\u0275prov=s.Jb({token:e,factory:e.\u0275fac,providedIn:"root"}),e})()},W4DG:function(e,t,i){"use strict";i.d(t,"a",function(){return s});var n=i("mrSG"),r=i("TEn/");function s(){return(e,t,i)=>{const s=i.value;return i.value=function(...e){return Object(n.a)(this,void 0,void 0,function*(){let t;const i=new r.R,n=yield i.create();yield n.present();try{t=yield s.apply(this,e)}catch(a){throw n.dismiss(),a}return n.dismiss(),t})},i}}},gMLP:function(e,t,i){"use strict";i.d(t,"b",function(){return r}),i.d(t,"a",function(){return s}),i.d(t,"e",function(){return a}),i.d(t,"c",function(){return o}),i.d(t,"d",function(){return c});var n=i("roZI");const r=[{name:"Emergency / repair order",id:0,imageUrl:"/assets/images/orders/kind/0.svg",value:n.g.EmergencyRepair},{name:"Predictive maintenance",id:1,imageUrl:"/assets/images/orders/kind/1.svg",value:n.g.PredictiveMaintenance},{name:"Request a new project / offer",id:2,imageUrl:"/assets/images/orders/kind/2.svg",value:n.g.NewProject}],s=[{name:"Plants / Machines",id:0,imageUrl:"/assets/images/orders/department/machines.svg",value:n.a.Plants},{name:"PKW / LKW",id:1,imageUrl:"/assets/images/orders/department/trucks.svg",value:n.a.CarTruck},{name:"E-Mobility",id:2,imageUrl:"/assets/images/orders/department/e-mobility.svg",value:n.a.EMobility},{name:"Door / gate",id:3,imageUrl:"/assets/images/orders/department/gates.svg",value:n.a.Door},{name:"Forklift Trucks / Conveyor Vehicles",id:4,imageUrl:"/assets/images/orders/department/forklifts.svg",value:n.a.ForkliftsConveyors},{name:"House Technic",id:5,imageUrl:"/assets/images/orders/department/house_electronics.svg",value:n.a.BuildingServices},{name:"Cold / Air Conditioning / Sanitary",id:6,imageUrl:"/assets/images/orders/department/heating.svg",value:n.a.Refrigeration},{name:"Lifting platforms / lift",id:7,imageUrl:"/assets/images/orders/department/lifts.svg",value:n.a.LiftingPlatforms},{name:"Window Construction / Glass",id:8,imageUrl:"/assets/images/orders/department/window.svg",value:n.a.WindowGlass},{name:"Stage / Event Technology",id:9,imageUrl:"/assets/images/orders/department/stage.svg",value:n.a.EventTech},{name:"IT / Presentation Technology",id:10,imageUrl:"/assets/images/orders/department/presentation.svg",value:n.a.ItPresentationTech},{name:"Drywall / Masonry Work",id:11,imageUrl:"/assets/images/orders/department/wall.svg",value:n.a.DrywallMasonry},{name:"Outdoor Area",id:12,imageUrl:"/assets/images/orders/department/lawn.svg",value:n.a.Outdoor},{name:"Welding",id:13,imageUrl:"/assets/images/orders/department/welding.svg",value:n.a.Welding},{name:"Cleaning",id:14,imageUrl:"/assets/images/orders/department/cleaning.svg",value:n.a.Cleaning},{name:"General",id:15,imageUrl:"/assets/images/orders/department/others.svg",value:n.a.General}];var a=function(e){return e.Days="days",e.Hours="h",e.Date="",e}({});const o=[{type:a.Days,factor:24,momentTimeFormat:"MMM Do YYYY"},{type:a.Hours,factor:1,momentTimeFormat:"HH:MM[h], MMM Do YYYY"},{type:a.Date,factor:24,momentTimeFormat:"MMMM Do YYYY"}],c=[{orderType:n.g.EmergencyRepair,values:[{id:0,value:2,type:a.Hours},{id:1,value:4,type:a.Hours},{id:2,value:6,type:a.Hours},{id:3,value:24,type:a.Hours}]},{orderType:n.g.PredictiveMaintenance,values:[{id:0,value:2,type:a.Days},{id:1,value:3,type:a.Days},{id:2,value:4,type:a.Days},{id:3,value:5,type:a.Days},{id:4,value:7,type:a.Days},{id:5,value:10,type:a.Days},{id:6,value:14,type:a.Days}]}]},kfnZ:function(e,t,i){"use strict";i.d(t,"a",function(){return o});var n=i("fXoL"),r=i("ofXK");function s(e,t){if(1&e&&n.Ob(0,"img",2),2&e){const e=n.ec();n.lc("src",e.user.profile.profile_picture,n.uc)}}function a(e,t){1&e&&n.Ob(0,"img",3)}let o=(()=>{class e{constructor(){}ngOnInit(){}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=n.Hb({type:e,selectors:[["app-profile-picture"]],inputs:{user:"user"},decls:2,vars:2,consts:[["class","margin-auto",3,"src",4,"ngIf"],["class","margin-auto","src","assets/icon/person-circle-outline.jpeg",4,"ngIf"],[1,"margin-auto",3,"src"],["src","assets/icon/person-circle-outline.jpeg",1,"margin-auto"]],template:function(e,t){1&e&&(n.zc(0,s,1,1,"img",0),n.zc(1,a,1,0,"img",1)),2&e&&(n.lc("ngIf",t.user.profile&&t.user.profile.profile_picture),n.Cb(1),n.lc("ngIf",!t.user.profile||!t.user.profile.profile_picture))},directives:[r.m],styles:["img[_ngcontent-%COMP%]{width:100%;height:100%;border-radius:100%;object-fit:cover;border:2px solid #d3d3d3}"]}),e})()},uCcx:function(e,t,i){"use strict";i.d(t,"a",function(){return B});var n=i("E0Us"),r=i("7XlH"),s=i("fXoL"),a=i("TEn/"),o=i("tyNb"),c=i("kfnZ"),d=i("ofXK"),l=i("mrSG"),u=i("1Esg"),p=i("NFeN"),f=i("sYmb");function v(e,t){1&e&&(s.Rb(0),s.Tb(1,"mat-icon",2),s.Bc(2,"add"),s.Sb(),s.Bc(3),s.fc(4,"translate"),s.Qb()),2&e&&(s.Cb(3),s.Dc(" ",s.gc(4,1,"Choose")," "))}function m(e,t){1&e&&(s.Rb(0),s.Tb(1,"mat-icon",2),s.Bc(2,"check"),s.Sb(),s.Bc(3),s.fc(4,"translate"),s.Qb()),2&e&&(s.Cb(3),s.Dc(" ",s.gc(4,1,"Selected")," "))}let g=(()=>{class e{constructor(e){this.searchService=e,this.expand="block"}ngOnInit(){}choose(){return Object(l.a)(this,void 0,void 0,function*(){this.searchService.chooseCandidate(this.candidate.id)})}}return e.\u0275fac=function(t){return new(t||e)(s.Nb(u.a))},e.\u0275cmp=s.Hb({type:e,selectors:[["app-search-result-item-choose-button"]],inputs:{candidate:"candidate",expand:"expand"},decls:3,vars:4,consts:[["mode","md","size","medium","slot","end","fill","outline",3,"expand","color","click"],[4,"ngIf"],["aria-hidden","false"]],template:function(e,t){1&e&&(s.Tb(0,"ion-button",0),s.bc("click",function(){return t.choose()}),s.zc(1,v,5,3,"ng-container",1),s.zc(2,m,5,3,"ng-container",1),s.Sb()),2&e&&(s.lc("expand",t.expand)("color",t.searchService.isCandidateChoosen(t.candidate.id)?"success":"primary"),s.Cb(1),s.lc("ngIf",!t.searchService.isCandidateChoosen(t.candidate.id)),s.Cb(1),s.lc("ngIf",t.searchService.isCandidateChoosen(t.candidate.id)))},directives:[a.i,d.m,p.a],pipes:[f.c],styles:[""]}),e})();var b=i("JqHY"),h=i("VMVM");function C(e,t){if(1&e&&(s.Tb(0,"ion-item",4),s.Tb(1,"ion-text"),s.Bc(2),s.Sb(),s.Sb()),2&e){const e=s.ec().$implicit;s.Cb(2),s.Cc(e.name)}}function y(e,t){if(1&e&&(s.Rb(0),s.zc(1,C,3,1,"ion-item",3),s.Qb()),2&e){const e=t.$implicit,i=s.ec(2);s.Cb(1),s.lc("ngIf",i.existsInServiceProviderProfile(e.id,i.ServiceProviderOptions.Skills))}}function S(e,t){if(1&e&&(s.Tb(0,"ion-item",4),s.Tb(1,"ion-text"),s.Bc(2),s.Sb(),s.Sb()),2&e){const e=s.ec().$implicit;s.Cb(2),s.Cc(e.name)}}function P(e,t){if(1&e&&(s.Rb(0),s.zc(1,S,3,1,"ion-item",3),s.Qb()),2&e){const e=t.$implicit,i=s.ec(2);s.Cb(1),s.lc("ngIf",i.existsInServiceProviderProfile(e.id,i.ServiceProviderOptions.Experience))}}function O(e,t){if(1&e&&(s.Tb(0,"ion-item",4),s.Tb(1,"ion-text"),s.Bc(2),s.Sb(),s.Sb()),2&e){const e=s.ec().$implicit;s.Cb(2),s.Cc(e.name)}}function T(e,t){if(1&e&&(s.Rb(0),s.zc(1,O,3,1,"ion-item",3),s.Qb()),2&e){const e=t.$implicit,i=s.ec(2);s.Cb(1),s.lc("ngIf",i.existsInServiceProviderProfile(e.id,i.ServiceProviderOptions.Certificate))}}function x(e,t){if(1&e&&(s.Tb(0,"ion-item",4),s.Tb(1,"ion-text"),s.Bc(2),s.Sb(),s.Sb()),2&e){const e=s.ec().$implicit;s.Cb(2),s.Cc(e.name)}}function w(e,t){if(1&e&&(s.Rb(0),s.zc(1,x,3,1,"ion-item",3),s.Qb()),2&e){const e=t.$implicit,i=s.ec(2);s.Cb(1),s.lc("ngIf",i.existsInServiceProviderProfile(e.id,i.ServiceProviderOptions.Training))}}function I(e,t){if(1&e&&(s.Rb(0),s.Tb(1,"h6",1),s.Bc(2),s.fc(3,"translate"),s.Sb(),s.zc(4,y,2,1,"ng-container",2),s.Ob(5,"br"),s.Tb(6,"h6",1),s.Bc(7),s.fc(8,"translate"),s.Sb(),s.zc(9,P,2,1,"ng-container",2),s.Ob(10,"br"),s.Tb(11,"h6",1),s.Bc(12),s.fc(13,"translate"),s.Sb(),s.zc(14,T,2,1,"ng-container",2),s.zc(15,w,2,1,"ng-container",2),s.Qb()),2&e){const e=s.ec();s.Cb(2),s.Cc(s.gc(3,7,"Skills")),s.Cb(2),s.lc("ngForOf",e.options[e.ServiceProviderOptions.Skills]),s.Cb(3),s.Cc(s.gc(8,9,"Experience")),s.Cb(2),s.lc("ngForOf",e.options[e.ServiceProviderOptions.Experience]),s.Cb(3),s.Cc(s.gc(13,11,"Certificates")),s.Cb(2),s.lc("ngForOf",e.options[e.ServiceProviderOptions.Certificate]),s.Cb(1),s.lc("ngForOf",e.options[e.ServiceProviderOptions.Training])}}let D=(()=>{class e{constructor(e){this.credentialService=e,this.ServiceProviderOptions=b.c}ngOnInit(){return Object(l.a)(this,void 0,void 0,function*(){this.options=yield this.credentialService.getCredentials()})}existsInServiceProviderProfile(e,t){return this.serviceProvider.profile[t].indexOf(e)>=0}}return e.\u0275fac=function(t){return new(t||e)(s.Nb(h.a))},e.\u0275cmp=s.Hb({type:e,selectors:[["app-service-provider-options"]],inputs:{serviceProvider:"serviceProvider"},decls:1,vars:1,consts:[[4,"ngIf"],[1,"strong"],[4,"ngFor","ngForOf"],["class","ion-no-padding",4,"ngIf"],[1,"ion-no-padding"]],template:function(e,t){1&e&&s.zc(0,I,16,13,"ng-container",0),2&e&&s.lc("ngIf",t.options)},directives:[d.m,d.l,a.v,a.K],pipes:[f.c],styles:["h6[_ngcontent-%COMP%]{font-family:Roboto;font-style:normal;font-weight:500;font-size:16px;line-height:19px}"]}),e})();var k=i("aEDk");function E(e,t){if(1&e&&(s.Tb(0,"p"),s.Bc(1),s.fc(2,"translate"),s.fc(3,"wrap"),s.fc(4,"number"),s.fc(5,"round"),s.Sb()),2&e){const e=s.ec();s.Cb(1),s.Ec("",s.gc(2,2,"Distance"),": ",s.ic(3,4,s.ic(4,8,s.hc(5,12,e.distance,2),"","de-DE"),"",e.Distance.serviceProviderDistanceSuffix),"")}}function M(e,t){if(1&e&&(s.Rb(0),s.Tb(1,"ion-note",6),s.Bc(2),s.fc(3,"translate"),s.Sb(),s.Tb(4,"ion-item",4),s.Ob(5,"app-search-result-item-choose-button",7),s.Sb(),s.Tb(6,"ion-item",8),s.Tb(7,"ion-text"),s.Bc(8),s.Sb(),s.Sb(),s.Ob(9,"app-service-provider-options",9),s.Qb()),2&e){const e=s.ec();s.Cb(2),s.Dc("*",s.gc(3,4,"NOTE_SEARCH_RESULTS"),""),s.Cb(3),s.lc("candidate",e.serviceProvider),s.Cb(3),s.Dc(" ",e.serviceProvider.profile.description," "),s.Cb(1),s.lc("serviceProvider",e.serviceProvider)}}const R=function(e){return["./",e]};let B=(()=>{class e{constructor(){this.Currency=n.a,this.Distance=r.a,this.detail=!1}get distance(){return this.serviceProvider&&null!=this.serviceProvider.distance?this.serviceProvider.distance.toFixed(1).toString():null}ngOnInit(){}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=s.Hb({type:e,selectors:[["app-search-result-item"]],inputs:{serviceProvider:"serviceProvider",detail:"detail"},decls:17,vars:19,consts:[["lines","none",1,"ion-no-padding",3,"detail","routerLink"],["slot","start"],[3,"user"],[4,"ngIf"],["lines","none",1,"ion-no-padding"],[3,"hidden","candidate"],[1,"ion-margin-top","ion-margin-bottom"],[1,"full-width",3,"candidate"],["lines","none",1,"ion-no-padding","ion-margin-top"],[3,"serviceProvider"]],template:function(e,t){1&e&&(s.Tb(0,"ion-item",0),s.Tb(1,"ion-thumbnail",1),s.Ob(2,"app-profile-picture",2),s.Sb(),s.Tb(3,"ion-label"),s.Tb(4,"h2"),s.Bc(5),s.Sb(),s.zc(6,E,6,15,"p",3),s.Sb(),s.Sb(),s.Tb(7,"ion-item",4),s.Tb(8,"ion-label"),s.Tb(9,"p"),s.Bc(10),s.fc(11,"translate"),s.Sb(),s.Tb(12,"h2"),s.Bc(13),s.fc(14,"wrap"),s.Sb(),s.Sb(),s.Ob(15,"app-search-result-item-choose-button",5),s.Sb(),s.zc(16,M,10,6,"ng-container",3)),2&e&&(s.lc("detail",!t.detail)("routerLink",s.pc(17,R,t.serviceProvider.profile.id)),s.Cb(2),s.lc("user",t.serviceProvider),s.Cb(3),s.Ec("",t.serviceProvider.first_name," ",t.serviceProvider.last_name,""),s.Cb(1),s.lc("ngIf",t.distance),s.Cb(4),s.Dc("",s.gc(11,11,"Wage"),"*:"),s.Cb(3),s.Cc(s.ic(14,13,t.serviceProvider.profile.applicable_rate,"",t.Currency.amountPerHourSuffix)),s.Cb(2),s.lc("hidden",t.detail)("candidate",t.serviceProvider),s.Cb(1),s.lc("ngIf",t.detail))},directives:[a.v,a.X,o.h,a.L,c.a,a.x,d.m,g,a.C,a.K,D],pipes:[f.c,k.d,d.e,k.c],styles:["ion-note[_ngcontent-%COMP%]{font-size:10px}"]}),e})()},"v++7":function(e,t,i){"use strict";i.d(t,"a",function(){return d});var n=i("mrSG"),r=i("TEn/"),s=i("1Xxd"),a=i("LvDl"),o=i("fXoL");let c=(()=>{class e{static toDisplayMessage(e){e.error&&(e=e.error);const t=s.a.getService();return Object.entries(e).map(([e,i])=>{const n=a.startCase(a.camelCase(e));return a.isPlainObject(i)?this.toDisplayMessage(i):a.isArray(i)?`${t.instant(n)}: ${i.join(", ")}`:`${t.instant(n)}: ${i}`}).join("\n")}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=o.Jb({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();function d(e="Success!",t=!0,i=null){return(a,o,d)=>{const l=d.value;return d.value=function(...a){return Object(n.a)(this,void 0,void 0,function*(){const n=new r.Z,o=s.a.getService();let d,u;i&&(i=o.instant(i));try{u=yield l.apply(this,a),t&&(d=yield n.create({message:o.instant(e),duration:2e3,position:"bottom",color:"success"}),d.present())}catch(p){d=yield n.create({header:o.instant("Error!"),message:i||c.toDisplayMessage(p),duration:2e4,position:"middle",color:"primary",cssClass:"error-toast",buttons:[{text:o.instant("OK"),role:"cancel"}]}),d.present();const e=document.querySelector(".error-toast");e.shadowRoot.querySelector(".toast-header").setAttribute("style","font-weight: bold; font-size: 1.4em"),e.shadowRoot.querySelector(".toast-button-inner").setAttribute("style","font-weight: bold")}return u})},d}}}}]);